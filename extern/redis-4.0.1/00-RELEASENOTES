Redis 4.0 release notes
=======================

--------------------------------------------------------------------------------
Upgrade urgency levels:

LOW:      No need to upgrade unless there are new features you want to use.
MODERATE: Program an upgrade of the server, but it's not urgent.
HIGH:     There is a critical bug that may affect a subset of users. Upgrade!
CRITICAL: There is a critical bug affecting MOST USERS. Upgrade ASAP.
--------------------------------------------------------------------------------

================================================================================
Redis 4.0.1     Released Mon Jul 24 15:51:31 CEST 2017
================================================================================

Upgrade urgency MODERATE: A few serious but non critical bugs in the modules
                          subsystem. A rare Redis Cluster crash fixed.
                          Many other minor fixes.

Hi everybody. This is the first patch level release of Redis 4.0, fixing the
obvious last minute issues discovered just after the 4.0.0 GA release, plus
a few other things that were no-brainers. The highlights here in terms
of bug fixing are:

1. Loading two or more modules exporting native data types resulted into the
   inability to reload the RDB file.
2. Crash in modules when calling from Lua scripts module commands that would
   block.
3. A Redis Cluster crash due to mis-handling of the "migrate-to" internal
   flag.
4. Other smaller fixes not worth of a release per se, but nice to add here.

If you upgraded to 4.0 to use modules, definitely a required upgrade.
If you are using Redis Cluster, also a good idea to upgrade.
Otherwise... You can definitely wait for the next one :-)

Cheers,
Salvatore

Here is the commits in detail:

Jan-Erik Rediger in commit a8c2ef76:
 Check that the whole first argument is a number
 1 file changed, 3 insertions(+), 2 deletions(-)

WuYunlong in commit bfe5008b:
 fix rewrite config: auto-aof-rewrite-min-size
 1 file changed, 2 insertions(+), 2 deletions(-)

Chris Lamb in commit a6abc216:
 Correct proceding -> proceeding typo.
 1 file changed, 1 insertion(+), 1 deletion(-)

Byron Grobe in commit 1d901b02:
 Fixed issue #1996 (Missing '-' in help message for redis-benchmark)
 1 file changed, 1 insertion(+), 1 deletion(-)

Jan-Erik Rediger in commit 19e5e5ea:
 Don't use extended Regexp Syntax
 1 file changed, 6 insertions(+), 6 deletions(-)

Leon Chen in commit 62474219:
 fix return wrong value of clusterDelNodeSlots
 1 file changed, 4 insertions(+), 2 deletions(-)

Leon Chen in commit dc782ceb:
 fix mismatch argument
 1 file changed, 1 insertion(+), 1 deletion(-)

liangsijian in commit 07631ff1:
 Fix lua ldb command log
 1 file changed, 1 insertion(+)

antirez in commit 41e3617d:
 Modules: don't crash when Lua calls a module blocking command.
 1 file changed, 12 insertions(+), 2 deletions(-)

antirez in commit 10370b20:
 Fix typo in unblockClientFromModule() top comment.
 1 file changed, 1 insertion(+), 1 deletion(-)

antirez in commit b6c55a89:
 Make representClusterNodeFlags() more robust.
 1 file changed, 18 insertions(+), 17 deletions(-)

antirez in commit 9a4f3d72:
 Fix two bugs in moduleTypeLookupModuleByID().
 1 file changed, 7 insertions(+), 4 deletions(-)

antirez in commit 7302e186:
 Allow certain modules APIs only defining REDISMODULE_EXPERIMENTAL_API.
 2 files changed, 20 insertions(+), 12 deletions(-)

================================================================================
Redis 4.0.0     Released Fri Jul 14 13:04:44 CEST 2017
================================================================================

Upgrade urgency CRITICAL: 4.0.0 GA fixes many important bugs.

Dear Redis users,

this is the first stable version of Redis 4.0. There are a number
of bug fixes and improvements compared to the previous RC, mainly:

* Different replication fixes to PSYNC2, the new 4.0 replication engine.
* Modules thread safe contexts were introduced. They are an experimental API right now, but the API is considered to be stable and usable when needed.
* SLOWLOG now logs the offending client name and address. Note that this is a backward compatibility breakage in case old code assumes that the slowlog entry is composed of exactly three entries.
* The modules native data types RDB format changed.
* The AOF check utility is now able to deal with RDB preambles.
* GEORADIUS_RO and GEORADIUSBYMEMBER_RO variants, not supporting the STORE option, were added in order to allow read-only scaling of such queries.
* HSET is now variadic, and HMSET is considered deprecated (but will be supported for years to come). Please use HSET in new code.
* GEORADIUS huge radius (>= ~6000 km) corner cases fixed, certain elements near the edges were not returned.
* DEBUG DIGEST modules API added.
* HyperLogLog commands no longer crash on certain input (non HLL) strings.
* Fixed SLAVEOF inside MULTI/EXEC blocks.
* Many other minor bug fixes and improvements.

Note that 4.0 is probably one of the most extreme releases of Redis ever
made in terms of changes inside the internals: all the aggregated data types
no longer use Redis Objects structures but directly SDS objects, certain
deletion operations are now threaded, the replication engine was modified
in many ways. So please handle this release with care. A few patch-level 
releases will follow in the next weeks and months fixing the important issues
discovered by the users.

You can read the new set of features below in this file, there are a lot
of improvements that can make a real difference in real world use cases.
Also note that Redis 4.0 is, as usually, almost a perfect superset of Redis
3.2, so it is very rare that compatibility with the past is broken in terms
of exported commands.

IMPORTANT: Redis Cluster users, please note that, as specified in the list
of incompatibilities, Redis 4.0 cluster bus protocol is not compatible with
Redis 3.2, so in order to upgrade, a mass reboot of the instances is needed
and rolling upgrades are not possible. This change was needed in order to
add compatibility for Containers/NAT, where the bus port at a fixed offset
was not an acceptable design, so we had to change many things, resulting
in the incompatible protocol.

Have fun with Redis 4.0!
Salvatore

antirez in commit c29852ff:
 Modules: fix thread safe context DB selection.
 1 file changed, 3 insertions(+)

antirez in commit b73f186a:
 Modules documentation removed from source.
 4 files changed, 2830 deletions(-)

antirez in commit 09d93ec9:
 Markdown generation of Redis Modules API reference improved.
 2 files changed, 83 insertions(+), 74 deletions(-)

antirez in commit 87aabb1a:
 Fix replication of SLAVEOF inside transaction.
 2 files changed, 19 insertions(+), 3 deletions(-)

antirez in commit 44f89d1d:
 CLUSTER GETKEYSINSLOT: avoid overallocating.
 1 file changed, 5 insertions(+)

antirez in commit 0df24b68:
 Fix isHLLObjectOrReply() to handle integer encoded strings.
 1 file changed, 1 insertion(+)

antirez in commit 884ceb69:
 Clients blocked in modules: free argv/argc later.
 2 files changed, 15 insertions(+), 3 deletions(-)

antirez in commit ccbdd762:
 Event loop: call after sleep() only from top level.
 2 files changed, 4 insertions(+), 2 deletions(-)

antirez in commit 10925e46:
 redis-check-aof: tell users there is a --fix option.
 1 file changed, 2 insertions(+), 1 deletion(-)

Guy Benoish in commit 99bb1c74:
 Modules: Fix io->bytes calculation in RDB save
 1 file changed, 55 insertions(+), 30 deletions(-)

antirez in commit cfdcd440:
 AOF check utility: ability to check files with RDB preamble.
 6 files changed, 61 insertions(+), 35 deletions(-)

sunweinan in commit 1cefb1c5:
 minor fix in listJoin().
 1 file changed, 1 insertion(+), 1 deletion(-)

antirez in commit db791a1e:
 Free IO context if any in RDB loading code.
 1 file changed, 4 insertions(+)

antirez in commit 419dacfe:
 Modules: DEBUG DIGEST interface.
 5 files changed, 108 insertions(+), 1 deletion(-)

spinlock in commit 5d03b831:
 update Makefile for test-sds
 1 file changed, 1 insertion(+), 1 deletion(-)

spinlock in commit ed437b82:
 Optimize addReplyBulkSds for better performance
 1 file changed, 1 insertion(+), 2 deletions(-)

antirez in commit 4ebfe265:
 Avoid closing invalid FDs to make Valgrind happier.
 1 file changed, 5 insertions(+), 1 deletion(-)

antirez in commit b6cab88c:
 Modules: no MULTI/EXEC for commands replicated from async contexts.
 1 file changed, 5 insertions(+)

antirez in commit 5c5e8a50:
 Add symmetrical assertion to track c->reply_buffer infinite growth.
 1 file changed, 4 insertions(+)

Dvir Volk in commit c63a97f8:
 fixed #4100
 1 file changed, 1 insertion(+)

antirez in commit eeb90571:
 Fix GEORADIUS edge case with huge radius.
 2 files changed, 39 insertions(+), 20 deletions(-)

antirez in commit 670456a7:
 redis-cli --latency: ability to run non interactively.
 1 file changed, 39 insertions(+), 3 deletions(-)

antirez in commit 64db8044:
 HMSET and MSET implementations unified. HSET now variadic.
 2 files changed, 18 insertions(+), 22 deletions(-)

antirez in commit e43c890e:
 Aesthetic changes to #4068 PR to conform to Redis coding standard.
 1 file changed, 6 insertions(+), 7 deletions(-)

itamar in commit 3f3dc3b8:
 Sets up fake client to select current db in RM_Call()
 1 file changed, 1 insertion(+)

antirez in commit ba773724:
 Fix abort typo in Lua debugger help screen.
 1 file changed, 1 insertion(+), 1 deletion(-)

antirez in commit bdd6de96:
 Added GEORADIUS(BYMEMBER)_RO variants for read-only operations.
 3 files changed, 32 insertions(+), 11 deletions(-)

Suraj Narkhede in commit de391ff1:
 Fix brpop command table entry and redirect blocked clients.
 2 files changed, 3 insertions(+), 2 deletions(-)

antirez in commit 5af0fc0c:
 RDB modules values serialization format version 2.
 4 files changed, 127 insertions(+), 28 deletions(-)

antirez in commit 6516958e:
 ARM: Fix stack trace generation on crash.
 1 file changed, 5 insertions(+)

antirez in commit 3669f96e:
 Issue #4027: unify comment and modify return value in freeMemoryIfNeeded().
 2 files changed, 7 insertions(+), 7 deletions(-)

Suraj Narkhede in commit 896c4690:
 Fix following issues in blocking commands: 1. brpop last key index, thus checking all keys for slots. 2. Memory leak in clusterRedirectBlockedClientIfNeeded. 3. Remove while loop in clusterRedirectBlockedClientIfNeeded.
 1 file changed, 1 insertion(+)

Zachary Marquez in commit deeb795a:
 Prevent expirations and evictions while paused
 2 files changed, 10 insertions(+)

antirez in commit a6615423:
 Upgrade 4.0 changelog with more backward incompatibilities.
 1 file changed, 8 insertions(+)

xuzhou in commit 0b367871:
 Optimize set command with ex/px when updating aof.
 1 file changed, 3 insertions(+), 3 deletions(-)

antirez in commit 2ae733d9:
 redis-benchmark: add -t hset target.
 1 file changed, 7 insertions(+)

xuzhou in commit 63e1c9f2:
 Fix set with ex/px option when propagated to aof
 4 files changed, 36 insertions(+), 1 deletion(-)

minghang.zmh in commit 0231156f:
 fix server.stat_net_output_bytes calc bug
 1 file changed, 1 insertion(+), 1 deletion(-)

xuchengxuan in commit e99954e4:
 Fixed comments of slowlog duration
 1 file changed, 1 insertion(+), 1 deletion(-)

cbgbt in commit d048f972:
 cli: Only print elapsed time on OUTPUT_STANDARD
 1 file changed, 3 insertions(+), 1 deletion(-)

Aric Huang in commit b5f22939:
 (fix) Update create-cluster README
 1 file changed, 4 insertions(+), 4 deletions(-)

antirez in commit 0b7ba621:
 SLOWLOG: log offending client address and name.
 4 files changed, 27 insertions(+), 7 deletions(-)

Antonio Mallia in commit 1fbc90fe:
 Removed duplicate 'sys/socket.h'  include
 1 file changed, 1 deletion(-)

Antonio Mallia in commit c7a6b711:
 Fixed comment in clusterMsg version field
 1 file changed, 1 insertion(+), 1 deletion(-)

Qu Chen in commit 73d358f7:
 Implement getKeys procedure for georadius and georadiusbymember commands.
 3 files changed, 41 insertions(+), 2 deletions(-)

antirez in commit c782d189:
 Fix PERSIST expired key resuscitation issue #4048.
 2 files changed, 4 insertions(+), 7 deletions(-)

antirez in commit cb548bf3:
 More informative -MISCONF error message.
 1 file changed, 1 insertion(+), 1 deletion(-)

antirez in commit 8cd6a2bd:
 Collect fork() timing info only if fork succeeded.
 1 file changed, 4 insertions(+), 3 deletions(-)

antirez in commit a3941aa5:
 redis-cli --bigkeys: show error when TYPE fails.
 1 file changed, 7 insertions(+), 2 deletions(-)

antirez in commit 6b21cebd:
 Modules TSC: use atomic var for server.unixtime.
 3 files changed, 15 insertions(+), 5 deletions(-)

antirez in commit 54bd224f:
 atomicvar.h: show used API in INFO. Add macro to force __sync builtin.
 2 files changed, 13 insertions(+), 6 deletions(-)

antirez in commit a864d25c:
 zmalloc.c: remove thread safe mode, it's the default way.
 3 files changed, 3 insertions(+), 23 deletions(-)

antirez in commit b338f2b9:
 Modules TSC: Add mutex for server.lruclock.
 2 files changed, 2 insertions(+)

antirez in commit 7e9c658d:
 Modules TSC: Improve inter-thread synchronization.
 5 files changed, 75 insertions(+), 20 deletions(-)

antirez in commit e69af32f:
 Simplify atomicvar.h usage by having the mutex name implicit.
 3 files changed, 25 insertions(+), 27 deletions(-)

antirez in commit 26e57f17:
 Lazyfree: fix lazyfreeGetPendingObjectsCount() race reading counter.
 1 file changed, 3 insertions(+), 1 deletion(-)

antirez in commit 2acf003c:
 Modules TSC: HELLO.KEYS reply format fixed.
 1 file changed, 15 insertions(+), 13 deletions(-)

antirez in commit 12fd298f:
 Modules TSC: put the client in the pending write list.
 1 file changed, 13 insertions(+), 1 deletion(-)

antirez in commit 5b1afa4a:
 adlist: fix final list count in listJoin().
 1 file changed, 1 insertion(+)

antirez in commit 717b2eea:
 adlist: fix listJoin() to handle empty lists.
 1 file changed, 8 insertions(+), 2 deletions(-)

antirez in commit a839036a:
 Modules: remove unused var in example module.
 1 file changed, 2 insertions(+), 3 deletions(-)

antirez in commit eda5ee5e:
 Modules TSC: HELLO.KEYS example draft finished.
 1 file changed, 35 insertions(+), 6 deletions(-)

antirez in commit fb8734fe:
 Module: fix RedisModule_Call() "l" specifier to create a raw string.
 1 file changed, 1 insertion(+), 1 deletion(-)

antirez in commit c4b88495:
 Modules TSC: Release the GIL for all the time we are blocked.
 6 files changed, 100 insertions(+), 22 deletions(-)

antirez in commit fcd9a07d:
 Modules TSC: Export symbols of the new API.
 2 files changed, 12 insertions(+)

antirez in commit 8affa3e7:
 Modules TSC: Handling of RM_Reply* functions.
 3 files changed, 82 insertions(+), 14 deletions(-)

antirez in commit 31b1f3c1:
 Modules TSC: Basic TS context creeation and handling.
 1 file changed, 60 insertions(+), 1 deletion(-)

antirez in commit 74f3a843:
 Modules TSC: GIL and cooperative multi tasking setup.
 3 files changed, 31 insertions(+), 1 deletion(-)

antirez in commit 5021fda2:
 Regression test for #3899 fixed.
 1 file changed, 36 insertions(+), 19 deletions(-)

antirez in commit 166bdbda:
 Regression test for PSYNC2 issue #3899 added.
 2 files changed, 62 insertions(+)

antirez in commit b506eb74:
 Check event loop creation return value. Fix #3951.
 1 file changed, 6 insertions(+)

antirez in commit 80690562:
 PSYNC2: fix master cleanup when caching it.
 3 files changed, 20 insertions(+), 7 deletions(-)

antirez in commit 8c4b0f41:
 Defrag: test currently disabled, too many false positives.
 1 file changed, 40 insertions(+), 38 deletions(-)

================================================================================
Redis 4.0-RC3     Released Sat Apr 22 11:19:56 CEST 2017
================================================================================

Upgrade urgency HIGH: Many bugs fixed and many improvements operated, so who
                      is using 4.0 RC2 should upgrade if possible, or at least
                      should carefully read this release notes to understand if
                      it may be affected by some bug.

Redis 3.9.103 (4.0 RC3 for the friends) is finally out, and the list of commits
is pretty long, so here is a synopsis of all the major changes operated in this
release.

Major things:

* Finally the infamous leakage of keys with an expire, in slaves that are
  configured as writable, is fixed. (Salvatore Sanfilippo)
* A serious MIGRATE issue forgetting to store the TTL of the key under
  certain conditions is fixed. (reported by Jinbei Wang, fixed by Jan-Erik
  Rediger).
* An in-depth investigation of the ziplist implementation was performed.
  The final result was:
  1. An in depth auditing (Salvatore Sanfilippo and Oran Agra).
  2. The discovery of a bug and its fix (Salvatore Sanfilippo).
  3. The creation of a new specification to replace ziplists with something
     better, listpacks: https://gist.github.com/antirez/66ffab20190ece8a7485bd9accfbc175 (Yuval Inbar, Salvatore Sanfilippo, Oran Agra).
  4. Refactoring and function to dump a ziplist for debugging purposes
     (Salvatore Sanfilippo).
* New major feature: Memory de-fragmentation. This feature, contributed by
  Oran Agra, allows Redis to perform "online defragmentation" of memory
  if the Jemalloc allocator is used. There is some documentation in the
  example `redis.conf` file. (Oran Agra)
* Support for ARM. (Salvatore Sanfilippo)
* Fix a very important "family of bugs" about PSYNC2, thanks to the help
  of Kevin McGehee, Siran Yang and Oran Agra.
* Hash function moved to SipHash 1-2 variant. (Salvatore Sanfilippo)
* Redis Cluster failure detection improved in different ways, the most
  important result is to exchange a lot less messages among nodes. (Salvatore
  Sanfilippo)

All the rest:

* A bug in the modules API ziplist iterator was fixed. (Dvir Volk).
* The HyperLogLog implementation final cardinality approximation function
  was improved to use the LogLog-Beta algorithm. (Harish Murthy and
  Salvatore Sanfilippo).
* Edge case copy-on-write disaster fix (Oran Agra).
* Now the Redis ASCII art logo is shown only if logging to stdout and if the
  stdout is a tty. (Salvatore Sanfilippo because of users request).
* A new GEO bug fixed (and there is another pending when huge radiuses are
  used, where elements at the edge may be miss-reported). (Salvatore
  Sanfilippo). ***IMPORTANT*** See the list of incompatibilities below
  since the GEO API has some potentially backward incompatible change.
* ZADD crash on syntax error fixed. (Itamar Haber)
* Fixed a division by zero but in MEMORY DOCTOR. (Jan-Erik Rediger)
* More MIGRATE bugs fixed. (Salvatore Sanfilippo)
* Different file descriptors potential lakes fixed. (multiple authors)
* Support for Solaris improved. (Salvatore Sanfilippo)
* Improve memory reclaiming in freeMemoryIfNeeded(). (Oran Agra and
  Salvatore Sanfilippo)
* Fixes multiple bugs in the test suite. (Salvatore Sanfilippo)
* Fix asynchronous commands in modules API. (Dvir Volk and Salvatore Sanfilippo)
* A new data structure, the radix tree (rax.c) was introduced into Redis in
  order to fix a major Redis Cluster slowdown. (Salvatore Sanfilippo)
* Fix `lua-time-limit` config ignored in `redis.conf`. (Salvatore Sanfilippo)
* Jemalloc downgraded to an apparently safe version, given that recent
  releases apparently hang under certain conditions. See Redis issue #3799.

For details and full credits, see the list of commits here. However note that
many information is inside the full commit message, while here only the first
line is shown.

antirez in commit 6bc6bd4c:
 PSYNC2: discard pending transactions from cached master.
 1 file changed, 3 insertions(+), 1 deletion(-)

antirez in commit a91cc5bc:
 Fix PSYNC2 incomplete command bug as described in #3899.
 3 files changed, 47 insertions(+), 8 deletions(-)

antirez in commit 278972ce:
 Fix getKeysUsingCommandTable() in cluster mode.
 1 file changed, 14 insertions(+), 1 deletion(-)

张文康 in commit 20285017:
 update block->free after some diff data are written to the child process
 1 file changed, 1 insertion(+)

Jan-Erik Rediger in commit 05ac217f:
 Reorder to make dict-benchmark compile on Linux
 1 file changed, 2 insertions(+), 2 deletions(-)

antirez in commit 8d44c52a:
 Fix #3848 by closing the descriptor on error.
 1 file changed, 2 insertions(+), 1 deletion(-)

antirez in commit 5c107c62:
 Clarify why we save ziplist elements in revserse order.
 1 file changed, 13 insertions(+), 7 deletions(-)

spinlock in commit 22996414:
 rdb: saving skiplist in reversed order to accelerate the deserialisation process
 1 file changed, 8 insertions(+), 7 deletions(-)

antirez in commit d98ef35a:
 Cluster: discard pong times in the future.
 1 file changed, 8 insertions(+), 1 deletion(-)

antirez in commit e47c8e3f:
 Test: fix, hopefully, false PSYNC failure like in issue #2715.
 1 file changed, 1 insertion(+), 1 deletion(-)

antirez in commit 1e659a04:
 Cluster: always add PFAIL nodes at end of gossip section.
 2 files changed, 71 insertions(+), 23 deletions(-)

antirez in commit 39d34487:
 Cluster: fix gossip section ping/pong times encoding.
 1 file changed, 4 insertions(+), 3 deletions(-)

antirez in commit 78148d0e:
 Cluster: add clean-logs command to create-cluster script.
 2 files changed, 9 insertions(+), 1 deletion(-)

antirez in commit a5c1c77e:
 Cluster: decrease ping/pong traffic by trusting other nodes reports.
 1 file changed, 13 insertions(+)

antirez in commit 51901396:
 Cluster: collect more specific bus messages stats.
 2 files changed, 82 insertions(+), 31 deletions(-)

antirez in commit f7b91b6c:
 Add a top comment in crucial functions inside networking.c.
 1 file changed, 23 insertions(+), 1 deletion(-)

antirez in commit 6e1489ae:
 Set lua-time-limit default value at safe place.
 2 files changed, 1 insertion(+), 1 deletion(-)

antirez in commit 5fd841c0:
 Fix preprocessor if/else chain broken in order to fix #3927.
 1 file changed, 3 insertions(+)

antirez in commit 185b361a:
 Fix typo in feedReplicationBacklog() top comment.
 1 file changed, 1 insertion(+), 1 deletion(-)

lorneli in commit b740fc1e:
 Expire: Update comment of activeExpireCycle function
 1 file changed, 1 insertion(+), 1 deletion(-)

antirez in commit 56cafcce:
 Fix zmalloc_get_memory_size() ifdefs to actually use the else branch.
 1 file changed, 2 deletions(-)

antirez in commit a5b66da8:
 Make more obvious why there was issue #3843.
 1 file changed, 3 insertions(+)

antirez in commit f60d6f09:
 Fix modules blocking commands awake delay.
 3 files changed, 42 insertions(+)

antirez in commit c56668c8:
 Rax library updated.
 3 files changed, 152 insertions(+), 265 deletions(-)

antirez in commit c4716d33:
 Cluster: hash slots tracking using a radix tree.
 9 files changed, 2115 insertions(+), 65 deletions(-)

vienna in commit a9fefbce:
 fix #3847: add close socket before return ANET_ERR.
 1 file changed, 3 insertions(+), 1 deletion(-)

Dvir Volk in commit 17250409:
 fixed free of blocked client before refering to it
 1 file changed, 1 insertion(+), 1 deletion(-)

Oran Agra in commit 8aced9e9:
 add LFU policies to the test suite, just for coverage
 1 file changed, 2 insertions(+), 2 deletions(-)

antirez in commit 3aa656ab:
 Use sha256 instead of sha1 to generate tarball hashes.
 1 file changed, 2 insertions(+), 2 deletions(-)

Salvatore Sanfilippo in commit 42d6a6c3:
 Makefile: fix building with Solaris C compiler, 64 bit.
 1 file changed, 7 insertions(+)

Salvatore Sanfilippo in commit e082d056:
 Use ARM unaligned accesses ifdefs for SPARC as well.
 3 files changed, 11 insertions(+), 2 deletions(-)

Salvatore Sanfilippo in commit 7269d547:
 Fix BITPOS unaligned memory access.
 1 file changed, 14 insertions(+), 7 deletions(-)

antirez in commit 15520588:
 Solaris fixes about tail usage and atomic vars.
 4 files changed, 7 insertions(+), 7 deletions(-)

antirez in commit 9faeed04:
 Test: replication-psync, wait more to detect write load.
 1 file changed, 1 insertion(+), 1 deletion(-)

antirez in commit b3440b35:
 Test: fix conditional execution of HINCRBYFLOAT representation test.
 1 file changed, 1 insertion(+), 1 deletion(-)

antirez in commit 5a413303:
 SipHash 2-4 -> SipHash 1-2.
 1 file changed, 15 insertions(+), 14 deletions(-)

antirez in commit a8cbc3ec:
 freeMemoryIfNeeded(): improve code and lazyfree handling.
 1 file changed, 42 insertions(+), 19 deletions(-)

antirez in commit 857e6d56:
 Use locale agnostic tolower() in dict.c hash function.
 3 files changed, 27 insertions(+), 17 deletions(-)

antirez in commit 34387cea:
 SipHash x86 optimizations.
 1 file changed, 23 insertions(+), 2 deletions(-)

antirez in commit ba647598:
 Use SipHash hash function to mitigate HashDos attempts.
 12 files changed, 361 insertions(+), 82 deletions(-)

Salvatore Sanfilippo in commit 2ee19d98:
 ARM: Avoid fast path for BITOP.
 1 file changed, 5 insertions(+), 1 deletion(-)

Salvatore Sanfilippo in commit eb62cfea:
 ARM: Use libc malloc by default.
 1 file changed, 6 insertions(+), 3 deletions(-)

Salvatore Sanfilippo in commit 620e48b1:
 ARM: Avoid memcpy() in MurmurHash64A() if we are using 64 bit ARM.
 3 files changed, 5 insertions(+), 1 deletion(-)

Salvatore Sanfilippo in commit 980d8805:
 ARM: Fix 64 bit unaligned access in MurmurHash64A().
 2 files changed, 10 insertions(+)

John.Koepi in commit 522b10e4:
 fix #2883, #2857 pipe fds leak when fork() failed on bg aof rw
 1 file changed, 1 insertion(+)

antirez in commit 03f55722:
 Don't leak file descriptor on syncWithMaster().
 1 file changed, 2 insertions(+), 1 deletion(-)

antirez in commit 8d55aeb5:
 Fix MIGRATE closing of cached socket on error.
 1 file changed, 23 insertions(+), 6 deletions(-)

antirez in commit 7c22d768:
 Fix ziplist fix...
 1 file changed, 2 insertions(+), 2 deletions(-)

antirez in commit 8327b813:
 Ziplist: insertion bug under particular conditions fixed.
 1 file changed, 9 insertions(+), 1 deletion(-)

antirez in commit 1688ccff:
 ziplist: better comments, some refactoring.
 1 file changed, 250 insertions(+), 100 deletions(-)

antirez in commit 36c1acc2:
 Jemalloc updated to 4.4.0.
 150 files changed, 17242 insertions(+), 6359 deletions(-)

Jan-Erik Rediger in commit 37b4c954:
 Don't divide by zero
 1 file changed, 1 insertion(+), 1 deletion(-)

miter in commit aee1ddca:
 Change switch statment to if statment
 1 file changed, 2 insertions(+), 4 deletions(-)

oranagra in commit af292b54:
 fix rare assertion in DEBUG DIGEST
 1 file changed, 1 insertion(+), 1 deletion(-)

Itamar Haber in commit c3c2aa3b:
 Verify pairs are provided after subcommands
 1 file changed, 1 insertion(+), 1 deletion(-)

antirez in commit 7c2153da:
 Add panic() into redisassert.h.
 1 file changed, 2 insertions(+)

antirez in commit dc83ddf0:
 serverPanic(): allow printf() alike formatting.
 2 files changed, 14 insertions(+), 4 deletions(-)

antirez in commit 3ef81eb3:
 Ziplist: remove static from functions, they prevent good crash reports.
 1 file changed, 14 insertions(+), 14 deletions(-)

Jan-Erik Rediger in commit 96f75faa:
 Initialize help only in repl mode
 1 file changed, 5 insertions(+), 5 deletions(-)

antirez in commit bcd51a6a:
 Use const in modules types mem_usage method.
 3 files changed, 4 insertions(+), 4 deletions(-)

antirez in commit 354ccf0c:
 Add memory defragmenting capability in 4.0 release notes.
 1 file changed, 3 insertions(+)

antirez in commit 57c81853:
 Defrag: don't crash when a module value is encountered.
 1 file changed, 3 insertions(+)

antirez in commit e36d5222:
 MEMORY USAGE: support for modules data types.
 3 files changed, 16 insertions(+), 5 deletions(-)

antirez in commit 82ec0fe6:
 Defrag: document the feature in redis.conf.
 1 file changed, 49 insertions(+), 6 deletions(-)

antirez in commit 19bf0249:
 Defrag: not enabled by default. Error on CONFIG SET if not available.
 2 files changed, 11 insertions(+), 1 deletion(-)

antirez in commit fa0d8b62:
 Defrag: fix function name typo defarg -> defrag.
 1 file changed, 2 insertions(+), 2 deletions(-)

antirez in commit ebb9a7e7:
 Defrag: do not crash on empty quicklist.
 1 file changed, 3 insertions(+), 2 deletions(-)

antirez in commit da84b9c4:
 Defrag: fix comments & code to conform to the Redis code base.
 1 file changed, 84 insertions(+), 54 deletions(-)

antirez in commit a18f3cf3:
 Defrag: activate it only if running modified version of Jemalloc.
 4 files changed, 40 insertions(+), 26 deletions(-)

oranagra in commit 1ad48837:
 active defrag improvements
 4 files changed, 63 insertions(+), 44 deletions(-)

oranagra in commit 67def261:
 active memory defragmentation
 13 files changed, 755 insertions(+), 8 deletions(-)

antirez in commit b4f3c5a4:
 deps/hiredis updated to latest version.
 34 files changed, 2393 insertions(+), 817 deletions(-)

antirez in commit 6549c6cf:
 Fix test "server is up" detection after logging changes.
 2 files changed, 2 insertions(+), 1 deletion(-)

Alexander Zhukov in commit b87fd120:
 Fix an article usage
 1 file changed, 1 insertion(+), 1 deletion(-)

whatacold in commit bd845493:
 fix the wrong description of intsetGet().
 1 file changed, 1 insertion(+), 1 deletion(-)

antirez in commit 952e8706:
 4.0 release notes updated with API incompatibility notice about GEO.
 1 file changed, 12 insertions(+)

antirez in commit f3add069:
 Geo: fuzzy test inconsistency report fixed to show all points.
 1 file changed, 3 insertions(+), 2 deletions(-)

antirez in commit 056c81e4:
 Geo: fix GEOHASH return value for consistency.
 1 file changed, 3 insertions(+), 4 deletions(-)

antirez in commit d5036018:
 Geo: fix edge case return values for uniformity.
 1 file changed, 5 insertions(+), 6 deletions(-)

Justin Carvalho in commit 47b46253:
 Fix missing brackets around encoding variable in ZIP_DECODE_LENGTH macro
 1 file changed, 1 insertion(+), 1 deletion(-)

antirez in commit a0e95118:
 Remove first version of ASCII wave, later discarded.
 1 file changed, 2 deletions(-)

antirez in commit 3334a409:
 Only show Redis logo if logging to stdout / TTY.
 4 files changed, 44 insertions(+), 11 deletions(-)

antirez in commit db53c230:
 adjustOpenFilesLimit() comment made hopefully more clear.
 1 file changed, 4 insertions(+), 1 deletion(-)

antirez in commit bc00ef45:
 Hopefully improve code comments for issue #3616.
 1 file changed, 8 insertions(+), 7 deletions(-)

itamar in commit 075a3381:
 Corrects a couple of omissions in the modules docs
 2 files changed, 3 insertions(+), 2 deletions(-)

andyli in commit 8d82b3b1:
 Modify MIN->MAX
 1 file changed, 1 insertion(+), 1 deletion(-)

oranagra in commit 69282df8:
 when a slave loads an RDB, stop an AOFRW fork before flusing db and parsing rdb file, to avoid a CoW disaster.
 1 file changed, 19 insertions(+), 13 deletions(-)

hylepo in commit 869dda84:
 Update redis-benchmark.c
 1 file changed, 1 insertion(+), 1 deletion(-)

oranagra in commit 7f870fad:
 fix unsigned int overflow in adjustOpenFilesLimit
 1 file changed, 3 insertions(+), 3 deletions(-)

antirez in commit 2e375d4f:
 Switch PFCOUNT to LogLog-Beta algorithm.
 4 files changed, 16 insertions(+), 57 deletions(-)

antirez in commit 735b928b:
 Use llroundl() before converting loglog-beta output to integer.
 1 file changed, 4 insertions(+), 4 deletions(-)

antirez in commit 6cae609e:
 Fix HLL gnuplot graph generator script for new redis-rb versions.
 1 file changed, 1 insertion(+), 1 deletion(-)

Harish Murthy in commit 4d475e0f:
 LogLog-Beta Algorithm support within HLL Config option to use LogLog-Beta Algorithm for Cardinality
 4 files changed, 57 insertions(+), 27 deletions(-)

Dvir Volk in commit 90d918bd:
 fixed stop condition in RM_ZsetRangeNext and RM_ZsetRangePrev
 1 file changed, 3 insertions(+), 3 deletions(-)

antirez in commit 3b19580a:
 ziplist.c explanation of format improved a bit.
 1 file changed, 18 insertions(+), 11 deletions(-)

antirez in commit 457c6878:
 DEBUG: new "ziplist" subcommand added. Dumps a ziplist on stdout.
 4 files changed, 35 insertions(+), 13 deletions(-)

antirez in commit 17cda261:
 MIGRATE: Remove upfront ttl initialization.
 1 file changed, 3 insertions(+), 4 deletions(-)

Jan-Erik Rediger in commit 9515648d:
 Reset the ttl for additional keys
 1 file changed, 1 insertion(+)

antirez in commit 1eec780e:
 Writable slaves expires: unit test.
 1 file changed, 12 insertions(+)

antirez in commit 9a8bc6d2:
 Writable slaves expires: fix leak in key tracking.
 2 files changed, 16 insertions(+), 2 deletions(-)

antirez in commit 746d70b0:
 INFO: show num of slave-expires keys tracked.
 3 files changed, 11 insertions(+), 2 deletions(-)

antirez in commit 1469c4ed:
 Fix created->created typo in expire.c
 1 file changed, 1 insertion(+), 1 deletion(-)

antirez in commit c65dfb43:
 Replication: fix the infamous key leakage of writable slaves + EXPIRE.
 8 files changed, 161 insertions(+), 11 deletions(-)

Yossi Gottlieb in commit 80944aac:
 Fix redis-cli rare crash.
 1 file changed, 4 insertions(+)

================================================================================
Redis 4.0.0-RC2     Released Tue Dec 06 09:25:35 CET 2016
================================================================================

Upgrade urgency LOW: This release mainly fixes a rare GEO API bug and a crash
                     related to the modules subsystem.

Redis 4.0.0-RC2 (version number 3.9.102) just fixes two bugs:

1. GEORADIUS could fail reporting items with very big radius lengths because
   of a bug in the bounding box computation function. This was fixed and tests
   with large radius sizes were added.

2. There was a crash in the modules subsystem that was not merged into RC1 for
   an error, while it was already fixed into the "unstable" branch.

The list of commits follows:

wangshaonan in commit 77241e8:
 Add '\n' to MEMORY DOCTOR command output message when num_reports is 0 or empty is 1
 1 file changed, 2 insertions(+), 2 deletions(-)

Chris Lamb in commit 0ee6a23:
 src/rdb.c: Correct "whenver" -> "whenever" typo.
 1 file changed, 1 insertion(+), 1 deletion(-)

Yossi Gottlieb in commit 2d0d2c8:
 Fix typo in RedisModuleTypeMethods declaration.
 1 file changed, 1 insertion(+), 1 deletion(-)

Dvir Volk in commit 0fb9f34:
 fix memory corruption on RM_FreeCallReply
 1 file changed, 3 insertions(+), 1 deletion(-)

antirez in commit 41994f2:
 Geo: improve fuzz test.
 1 file changed, 11 insertions(+), 3 deletions(-)

antirez in commit ef9b4cf:
 Geo: fix computation of bounding box.
 2 files changed, 33 insertions(+), 44 deletions(-)

================================================================================
Redis 4.0.0-RC1   Released Fri Dec 2 10:40:01 CEST 2016
================================================================================

Redis 4.0.0-RC1 (version number 3.9.101) is the first release candidate of
Redis 4.0. It is not a production quality release but all the major features
received some testing at this point, the release in feature freeze excluding
things that are considered in the middle ground between fixes and improvements.

Redis 4.0 is not called 3.4 because it is a major release that adds a number
of important and non trivial features. Many core functionalities of Redis were
seriously reworked. In the next release candidates, with your help, we'll gain
informations about the stability level of this release and will produce a new
RC every 2-4 weeks. When the entity and frequency of bug reports will slow down
under a certain level, Redis 4.0 final will be released.

As usually, certain changes to Cluster and Sentinel may not follow the Redis
release cycle and could be incorporated into Redis 4.0 at RC stage or even
after the final version, every time the changes are considered to benefit
the user base enough to be worth incorporating them ASAP without waiting
for Redis 4.2.

So, what's new in Redis 4.0?

Major features
---

* Redis modules system. Redis now allows developers to write modules that can extend the Redis functionalities and implement new data types. The module API implements a complete abstraction layer that separates the Redis core from the module implementation, allowing the same module to be loaded by different versions of Redis without modifications. See the modules documentation here for more info: https://github.com/antirez/redis/blob/unstable/src/modules/INTRO.md

* Partial Replication (PSYNC) version 2. The replication protocol was enhanced (in a backward compatible way, so that 4.0 can still act as a slave of older instances) in order to be able to partially resynchronize slaves and masters in conditions where it was impossible in the past: after a master switch because of a failover and when a slave instance is restared. Even masters turned into slaves will usually be able to partially resynchronize with the new master, if the new master was a former slave of the old master instance. The way the replication work for chained slaves (sub-slaves) is now very different, and each slave receives the same replication stream generated by the top-level master.

* Cache eviction improvements. Redis 4.0 implements LFU (Least Frequently Used) as a new eviction algorithm, and improves the functionality, performances and precision of the existing algorithms. This blog post contains info about the changes: http://antirez.com/news/109

* Lazy freeing of keys. Redis is now able to delete keys in the background in a different thread without blocking the server. The new `UNLINK` command is the same as `DEL` but working in a non blocking way. Similarly an `ASYNC` option was added to `FLUSHALL` and `FLUSHDB` in order to let the entire dataset or a single database to be freed asynchronously.

* Mixed RDB-AOF format. If enabled the new format is used when rewriting the AOF file: the rewrite uses the more compact and faster to generate RDB format, and an AOF stream is appended to the file. This allows faster rewrites and reloads when using the AOF persistence.

* A new MEMORY command, able to perform memory analysis of different kinds: troubleshooting of memory issues (with MEMORY DOCTOR, similar to LATENCY DOCTOR), reporting of the amount of memory used by a single key, more in-depth reporting of Redis memory usage compared to what the INFO command offers.

* Redis Cluster support for NAT / Docker. There are new functionalities in order to force cluster instances to announce specific sets of IP address, client and bus ports, to the rest of the cluster, regardless of the auto detected IP. This required a bus protocol change that will force users to mass-restart all the nodes of a Redis 3.2 installation in order to upgrade to 4.0.

* Redis uses now less memory in order to store the same amount of data. The gain depends a lot on the kind of dataset stored.

* Redis is now able to defragment the used memory and reclaim space incrementally
while running. See the example `redis.conf` for more information.

Smaller features
---

* Improvements to the RDB format to support 64 bit lengths, binary sorted set scores, and more. The RDB file check utility now uses the same code base of the one used by Redis itself in order to load the RDB file in memory.

* SWAPDB command: ability to completely and immediately (no latency) replace two Redis databases.

* Improvements to `dict.c`, the Redis hash table implementation.

* Security improvements mapping POST and Host: commands to QUIT in order to prevent cross protocol scripting attacks.

* RPUSHX and LPUSHX now accept a variable number of elements.

* Reporting of additional memory used by copy on write in the INFO output.

* Serious refactoring of many core parts of Redis.

List of commits
---

antirez in commit 434e6b2:
 PSYNC2: Do not accept WAIT in slave instances.
 1 file changed, 5 insertions(+)

antirez in commit 71e8d15:
 Modules: change type registration API to use a struct of methods.
 4 files changed, 65 insertions(+), 10 deletions(-)

antirez in commit ce1f9cf:
 PSYNC2 test: check ability to resync after restart.
 1 file changed, 35 insertions(+), 1 deletion(-)

antirez in commit 93c5198:
 PSYNC2 test: 20 seconds are enough...
 1 file changed, 5 insertions(+), 1 deletion(-)

antirez in commit f6e42f0:
 PSYNC2 test: test added to the default tests.
 1 file changed, 1 insertion(+)

antirez in commit 6eb720f:
 PSYNC2: Minor memory leak reading -NOMASTERLINK master reply fixed.
 1 file changed, 1 insertion(+)

antirez in commit c8f0690:
 PSYNC2 test: modify the test for production.
 1 file changed, 33 insertions(+), 17 deletions(-)

antirez in commit eab865a:
 PSYNC2: stop sending newlines to sub-slaves when master is down.
 3 files changed, 6 insertions(+), 30 deletions(-)

antirez in commit 16559a0:
 PSYNC2: Test (WIP).
 1 file changed, 127 insertions(+)

antirez in commit 790310d:
 Better protocol errors logging.
 1 file changed, 29 insertions(+), 10 deletions(-)

antirez in commit e09e31b:
 PSYNC2: on transient error jump to error, not write_error.
 1 file changed, 1 insertion(+), 1 deletion(-)

antirez in commit 1f55170:
 Modules: fix client blocking calls access to invalid struct field.
 1 file changed, 1 insertion(+), 1 deletion(-)

antirez in commit 5b7d42f:
 PSYNC2: bugfixing pre release.
 2 files changed, 39 insertions(+), 11 deletions(-)

antirez in commit 73dd51c:
 Merge branch 'unstable' of github.com:/antirez/redis into unstable
antirez in commit f115461:
 Test: WAIT tests added in wait.tcl unit.
 2 files changed, 43 insertions(+)

Salvatore Sanfilippo in commit 5b83fa4:
 Merge pull request #3612 from deep011/unstable
antirez in commit 8fb3ad2:
 Merge branch 'psync2' into unstable
antirez in commit 59f2e7c:
 Merge branch 'unstable' of github.com:/antirez/redis into unstable
antirez in commit cfdb3a2:
 Cluster: handle zero bytes at the end of nodes.conf.
 1 file changed, 1 insertion(+), 1 deletion(-)

deep011 in commit 13a92a5:
 fix a possible bug for 'replconf getack'
 1 file changed, 1 insertion(+), 1 deletion(-)

antirez in commit 28c96d7:
 PSYNC2: Save replication ID/offset on RDB file.
 4 files changed, 29 insertions(+), 3 deletions(-)

antirez in commit 4e5e366:
 PSYNC2: Wrap debugging code with if(0)
 1 file changed, 3 insertions(+), 1 deletion(-)

antirez in commit 2669fb8:
 PSYNC2: different improvements to Redis replication.
 10 files changed, 440 insertions(+), 143 deletions(-)

Salvatore Sanfilippo in commit b399288:
 Merge pull request #3568 from MichaelTSS/patch-1
antirez in commit 18d32c7:
 redis-cli typo fixed: perferences -> preferences.
 1 file changed, 2 insertions(+), 2 deletions(-)

Salvatore Sanfilippo in commit fa2dc4b:
 Merge pull request #3514 from charsyam/feature/simple-refactoring
Salvatore Sanfilippo in commit 25811bc:
 Merge pull request #3547 from yyoshiki41/refactor/redis-trib
Salvatore Sanfilippo in commit b3e7073:
 Merge pull request #3575 from deep011/unstable
Salvatore Sanfilippo in commit c17fc39:
 Merge pull request #3581 from dvirsky/fix_io_ctx_sizeof
Dvir Volk in commit ec8fd6e:
 fixed sizeof in allocating io RedisModuleCtx*
 1 file changed, 1 insertion(+), 1 deletion(-)

antirez in commit 9749e96:
 Test: regression test for #3564 added.
 1 file changed, 9 insertions(+)

Salvatore Sanfilippo in commit 77b1abf:
 Merge pull request #3565 from sunheehnus/bitfield-fix-highest_write_offset
Salvatore Sanfilippo in commit f48ca55:
 Merge pull request #3573 from jybaek/module-io-context
Salvatore Sanfilippo in commit fbfa0a1:
 Merge pull request #3579 from guybe7/unstable
Guy Benoish in commit 8b070b5:
 Fixed wrong sizeof(client) in object.c
 1 file changed, 7 insertions(+), 7 deletions(-)

deep in commit 7f1bb22:
 fix a bug for quicklistDup() function
 1 file changed, 3 insertions(+), 3 deletions(-)

jybaek in commit a06d59b:
 Add missing fclose()
 1 file changed, 1 insertion(+)

Michel Tresseras in commit 20feafd:
 Typo
 1 file changed, 1 insertion(+), 1 deletion(-)

sunhe in commit 949a274:
 bitops.c/bitfieldCommand: update higest_write_offset with check
 1 file changed, 3 insertions(+), 2 deletions(-)

antirez in commit f39e7d4:
 Remove "Hey!" warning...
 1 file changed, 1 deletion(-)

antirez in commit a9f50a3:
 Better target MacOS on __atomic macros conditional compilation.
 1 file changed, 2 insertions(+), 1 deletion(-)

Salvatore Sanfilippo in commit ea95262:
 Merge pull request #3560 from melo/fix-macos-10-8-compile
Pedro Melo in commit 2000abc:
 Fixes compilation on MacOS 10.8.5, Clang tags/Apple/clang-421.0.57
 1 file changed, 1 insertion(+), 1 deletion(-)

antirez in commit f633212:
 Fix SELECT test, broken cause change in error msg.
 1 file changed, 1 insertion(+), 1 deletion(-)

antirez in commit c7a4e69:
 SWAPDB command.
 3 files changed, 88 insertions(+), 1 deletion(-)

antirez in commit a3b3ca7:
 Modules: use RedisModule_AbortBlock() in the example.
 1 file changed, 1 insertion(+), 1 deletion(-)

antirez in commit 95c17c0:
 Modules: AbortBlock() API implemented.
 3 files changed, 12 insertions(+), 1 deletion(-)

antirez in commit 58601c8:
 Modules: blocking API documented.
 1 file changed, 265 insertions(+)

antirez in commit 553aa0e:
 module.c: trim comment to 80 cols.
 1 file changed, 4 insertions(+), 4 deletions(-)

antirez in commit 870274b:
 Example modules: remove warnings about types and not used args.
 2 files changed, 13 insertions(+), 2 deletions(-)

yyoshiki41 in commit 16f6506:
 Refactor redis-trib.rb
 1 file changed, 1 insertion(+), 2 deletions(-)

antirez in commit 7dde8bf:
 Modules: blocking command example added.
 1 file changed, 115 insertions(+)

antirez in commit 3459969:
 Modules: fixes to the blocking commands API: examples now works.
 1 file changed, 10 insertions(+), 2 deletions(-)

antirez in commit f156038:
 Modules: RM_Milliseconds() API added.
 2 files changed, 8 insertions(+)

antirez in commit ffb00fb:
 Modules: blocking commands WIP: API exported, a first example.
 3 files changed, 38 insertions(+), 3 deletions(-)

antirez in commit 3aa816e:
 Modules: introduce warning suppression macro for unused args.
 3 files changed, 22 insertions(+)

antirez in commit 3879923:
 Enable warning in example modules Makefile.
 1 file changed, 2 insertions(+), 2 deletions(-)

antirez in commit 8fadfe5:
 Module: API to block clients with threading support.
 4 files changed, 185 insertions(+), 11 deletions(-)

antirez in commit a5998d1:
 Fix typos in GetContextFromIO API declaration.
 1 file changed, 2 insertions(+), 3 deletions(-)

antirez in commit 799208d:
 Fix name of mispelled function.
 1 file changed, 1 insertion(+), 1 deletion(-)

antirez in commit 152c1b6:
 Module: Ability to get context from IO context.
 5 files changed, 30 insertions(+)

antirez in commit 72279e3:
 Copyright notice added to module.c.
 2 files changed, 30 insertions(+), 1 deletion(-)

antirez in commit 3dc84c5:
 Modules: API to save/load single precision floating point numbers.
 4 files changed, 48 insertions(+), 2 deletions(-)

antirez in commit a1b1fd4:
 Modules: API to log from module I/O callbacks.
 2 files changed, 40 insertions(+), 16 deletions(-)

antirez in commit 4674efd:
 Merge branch 'unstable' of github.com:/antirez/redis into unstable
antirez in commit 0d9febf:
 Add compiler optimizations to example module makefile.
 1 file changed, 2 insertions(+), 2 deletions(-)

antirez in commit 6782e77:
 debug.c: include dlfcn.h regardless of BACKTRACE support.
 1 file changed, 1 insertion(+), 1 deletion(-)

antirez in commit 2564031:
 Merge branch 'unstable' of github.com:/antirez/redis into unstable
antirez in commit 6d9f8e2:
 Security: CONFIG SET client-output-buffer-limit overflow fixed.
 1 file changed, 5 insertions(+), 3 deletions(-)

charsyam in commit ca6fc4f:
 Simple change just using slaves instead of server.slaves
 1 file changed, 1 insertion(+), 1 deletion(-)

Salvatore Sanfilippo in commit 6e866ee:
 Merge pull request #3511 from dvirsky/create_string_printf
Dvir Volk in commit a91650f:
 added RM_CreateStringPrintf
 4 files changed, 52 insertions(+), 3 deletions(-)

antirez in commit 6705867:
 dict.c: fix dictGenericDelete() return ASAP condition.
 1 file changed, 2 insertions(+), 1 deletion(-)

antirez in commit e9d861e:
 Clear child data when opening the pipes.
 1 file changed, 2 insertions(+)

antirez in commit e565632:
 Child -> Parent pipe for COW info transferring.
 6 files changed, 132 insertions(+), 3 deletions(-)

antirez in commit e1eccf9:
 zmalloc: Make fp var non local to fix build.
 1 file changed, 3 insertions(+), 2 deletions(-)

antirez in commit 945a2f9:
 zmalloc: zmalloc_get_smap_bytes_by_field() modified to work for any PID.
 5 files changed, 24 insertions(+), 12 deletions(-)

antirez in commit b13759e:
 redis-cli: "allocator-stats" -> "malloc-stats".
 1 file changed, 1 insertion(+), 1 deletion(-)

antirez in commit 4263b12:
 Typo fixed from MEMORY DOCTOR output.
 1 file changed, 1 insertion(+), 1 deletion(-)

antirez in commit 8a00ffc:
 Surround allocator name with quotes in MEMORY DOCTOR output.
 1 file changed, 1 insertion(+), 1 deletion(-)

antirez in commit 44e714a:
 MEMORY DOCTOR initial implementation.
 4 files changed, 104 insertions(+), 8 deletions(-)

antirez in commit d9325ac:
 Provide percentage of memory peak used info.
 3 files changed, 13 insertions(+), 1 deletion(-)

oranagra in commit 309c2bc:
 add zmalloc used mem to DEBUG SDSLEN
 2 files changed, 7 insertions(+), 3 deletions(-)

antirez in commit 78f35f8:
 Memory related subcommands of DEBUG moved to MEMORY.
 3 files changed, 43 insertions(+), 41 deletions(-)

antirez in commit 123891d:
 Group MEMORY command related APIs together in the source code.
 1 file changed, 53 insertions(+), 53 deletions(-)

antirez in commit adcfb77:
 objectComputeSize(): skiplist nodes have different sizes.
 1 file changed, 6 insertions(+), 6 deletions(-)

antirez in commit e9629e1:
 MEMORY command: HELP + dataset percentage (like in INFO).
 3 files changed, 20 insertions(+), 8 deletions(-)

antirez in commit 5443726:
 MEMORY USAGE: SAMPLES option added + fixes to size computation.
 1 file changed, 27 insertions(+), 18 deletions(-)

antirez in commit 7229af3:
 INFO: new memory reporting fields added.
 1 file changed, 15 insertions(+), 1 deletion(-)

antirez in commit bf2624e:
 C struct memoh renamed redisMemOverhead. API prototypes added.
 2 files changed, 28 insertions(+), 26 deletions(-)

antirez in commit be5439b:
 MEMORY OVERHEAD refactored into a generic API.
 1 file changed, 130 insertions(+), 73 deletions(-)

antirez in commit 09a50d3:
 dict.c: dictReplaceRaw() -> dictAddOrFind().
 3 files changed, 4 insertions(+), 4 deletions(-)

antirez in commit 041ab04:
 Trim comment to 80 cols.
 1 file changed, 1 insertion(+), 1 deletion(-)

antirez in commit a636aea:
 Apply the new dictUnlink() where possible.
 3 files changed, 9 insertions(+), 8 deletions(-)

oranagra in commit afcbcc0:
 dict.c: introduce dictUnlink().
 3 files changed, 45 insertions(+), 11 deletions(-)

antirez in commit 8c84c96:
 MEMORY OVERHEAD implemented (using Oran Agra initial implementation).
 3 files changed, 104 insertions(+), 2 deletions(-)

antirez in commit 89dec69:
 objectComputeSize(): estimate collections sampling N elements.
 3 files changed, 51 insertions(+), 31 deletions(-)

oranagra in commit 8c24325:
 Adding objectComputeSize() function.
 1 file changed, 113 insertions(+)

oranagra in commit 68bf45f:
 Optimize repeated keyname hashing.
 5 files changed, 56 insertions(+), 59 deletions(-)

Salvatore Sanfilippo in commit d680eb6:
 Merge pull request #3492 from wyxustcsa09/fix-memory
antirez in commit c6dc8d5:
 Merge branch 'unstable' of github.com:antirez/redis into unstable
antirez in commit 56dba3a:
 Example modules: Add C99 standard to cflags.
 1 file changed, 2 insertions(+), 2 deletions(-)

antirez in commit 3793afa:
 Merge branch 'aofrdb' into unstable
antirez in commit f962481:
 fix the fix for the TCP binding.
 1 file changed, 15 insertions(+), 10 deletions(-)

oranagra in commit 9203828:
 fix tcp binding when IPv6 is unsupported
 2 files changed, 14 insertions(+), 10 deletions(-)

antirez in commit d35deb2:
 debug.c: no need to define _GNU_SOURCE, is defined in fmacros.h.
 1 file changed, 1 deletion(-)

antirez in commit 6211e77:
 crash log - improve code dump with more info and called symbols.
 1 file changed, 59 insertions(+), 20 deletions(-)

wyx in commit f9c9b4b:
 fix memory error on module unload
 1 file changed, 1 insertion(+), 1 deletion(-)

oranagra in commit 24811fc:
 crash log - add hex dump of function code
 1 file changed, 22 insertions(+)

antirez in commit 0d179d1:
 dict.c benchmark minor improvements.
 1 file changed, 19 insertions(+), 1 deletion(-)

antirez in commit bd6c4ca:
 dict.c benchmark: mixed del/insert benchmark.
 1 file changed, 11 insertions(+)

antirez in commit 0f708ab:
 dict.c benchmark: finish rehashing before testing lookups.
 1 file changed, 5 insertions(+)

antirez in commit ed6a451:
 dict.c benchmark improvements.
 1 file changed, 27 insertions(+), 4 deletions(-)

antirez in commit 1074f73:
 dict.c benchmark: take optional count argument.
 1 file changed, 11 insertions(+), 3 deletions(-)

antirez in commit 91a59e0:
 dict.c benchmark.
 2 files changed, 60 insertions(+), 1 deletion(-)

antirez in commit 57a0db9:
 Fix rdb.c var types when calling rdbLoadLen().
 1 file changed, 3 insertions(+), 3 deletions(-)

antirez in commit 9f76d82:
 sds: don't check for impossible string size in 32 bit systems.
 1 file changed, 3 insertions(+)

antirez in commit dacb69e:
 RDB AOF preamble: test it in the aofrw unit.
 1 file changed, 52 insertions(+), 49 deletions(-)

antirez in commit 764cc69:
 Document RDB preamble in AOF rewrites in redis.conf.
 1 file changed, 14 insertions(+)

antirez in commit e0d4146:
 Sentinel example config: warn about protected mode.
 1 file changed, 16 insertions(+), 1 deletion(-)

antirez in commit 543e25e:
 RDB AOF preamble: WIP 4 (Mixed RDB/AOF loading).
 2 files changed, 33 insertions(+), 6 deletions(-)

antirez in commit f1c32f0:
 RDB AOF preamble: WIP 3 (RDB loading refactoring).
 1 file changed, 38 insertions(+), 29 deletions(-)

antirez in commit feda523:
 RDB AOF preamble: WIP 2.
 5 files changed, 37 insertions(+), 28 deletions(-)

antirez in commit 4426cb1:
 RDB AOF preamble: WIP 1.
 4 files changed, 72 insertions(+), 35 deletions(-)

Salvatore Sanfilippo in commit 9f779b3:
 Merge pull request #3340 from rojingeorge/unstable
Salvatore Sanfilippo in commit c5414ce:
 Merge pull request #3429 from guoxiao/warning
Guo Xiao in commit 4bd72ab:
 Use the standard predefined identifier __func__ (since C99)
 1 file changed, 1 insertion(+), 1 deletion(-)

antirez in commit e7f1798:
 Modules: basic call/reply tests in test module.
 1 file changed, 71 insertions(+)

antirez in commit 13f18d2:
 Modules: handle NULL replies more gracefully.
 1 file changed, 6 insertions(+)

antirez in commit a81a92c:
 Security: Cross Protocol Scripting protection.
 3 files changed, 27 insertions(+), 2 deletions(-)

antirez in commit ede6e22:
 Fix comment over 80 cols.
 1 file changed, 1 insertion(+), 1 deletion(-)

antirez in commit 04340e1:
 Modules: initial draft for a testing module.
 3 files changed, 235 insertions(+), 93 deletions(-)

antirez in commit 7829e4e:
 Modules: StringAppendBuffer() and ability to retain strings.
 3 files changed, 91 insertions(+), 5 deletions(-)

Qu Chen in commit d982f44:
 Fix a bug to delay bgsave while AOF rewrite in progress for replication
 1 file changed, 1 insertion(+), 1 deletion(-)

antirez in commit 9424fe4:
 Remove extra "-" from ASCII horizontal bar in comment.
 2 files changed, 2 insertions(+), 2 deletions(-)

antirez in commit 9d52411:
 Update linenoise to fix insecure redis-cli history file creation.
 1 file changed, 6 insertions(+), 1 deletion(-)

antirez in commit 8966d4c:
 Changelog format modified to be less verbose.
 1 file changed, 5 insertions(+), 1 deletion(-)

antirez in commit 55385f9:
 Ability of slave to announce arbitrary ip/port to master.
 6 files changed, 129 insertions(+), 17 deletions(-)

antirez in commit 356a630:
 Multiple GEORADIUS bugs fixed.
 6 files changed, 199 insertions(+), 21 deletions(-)

antirez in commit 03f5b50:
 Replication: when possible start RDB saving ASAP.
 1 file changed, 8 insertions(+), 2 deletions(-)

antirez in commit 8b76d55:
 Sentinel: new test unit 07 that tests master down conditions.
 1 file changed, 68 insertions(+)

antirez in commit 3e9ce38:
 Sentinel: check Slave INFO state more often when disconnected.
 2 files changed, 10 insertions(+), 3 deletions(-)

antirez in commit 0a628e5:
 Avoid simultaneous RDB and AOF child process.
 4 files changed, 51 insertions(+), 8 deletions(-)

antirez in commit 780a8b1:
 Replication: start BGSAVE for replication always in replicationCron().
 1 file changed, 15 insertions(+), 12 deletions(-)

antirez in commit e0582b3:
 Fix maxmemory shared integer check bug introduced with LFU.
 1 file changed, 1 insertion(+), 1 deletion(-)

antirez in commit 2d5eb1f:
 Volatile-ttl eviction policy implemented in terms of the pool.
 2 files changed, 25 insertions(+), 48 deletions(-)

antirez in commit 9f1b7ab:
 test-lru.rb: support for testing volatile-ttl policy.
 1 file changed, 49 insertions(+), 14 deletions(-)

antirez in commit 6854c7b:
 LFU: make counter log factor and decay time configurable.
 5 files changed, 95 insertions(+), 14 deletions(-)

antirez in commit 6416ab1:
 LFU: Use the LRU pool for the LFU algorithm.
 1 file changed, 25 insertions(+), 36 deletions(-)

antirez in commit dbce190:
 LFU: Fix bugs in frequency decay code.
 1 file changed, 2 insertions(+), 2 deletions(-)

antirez in commit a8e2d08:
 LFU: Initial naive eviction cycle.
 3 files changed, 49 insertions(+), 4 deletions(-)

antirez in commit 24dd4a8:
 redis-cli LRU test mode: randomize value of key when setting.
 1 file changed, 4 insertions(+), 1 deletion(-)

antirez in commit b8450d7:
 redis-cli LRU test mode: remove newline from key names.
 1 file changed, 1 insertion(+), 1 deletion(-)

antirez in commit 5d07984:
 LFU: Redis object level implementation.
 5 files changed, 142 insertions(+), 15 deletions(-)

antirez in commit ada70c7:
 LFU simulator: remove dead code.
 1 file changed, 5 deletions(-)

antirez in commit fc92c66:
 LRU simulator: fix new entry creation decr time.
 1 file changed, 1 insertion(+), 1 deletion(-)

antirez in commit f50dc38:
 LRU simulator: fix new entry creation.
 1 file changed, 2 insertions(+), 2 deletions(-)

antirez in commit 09fcb00:
 LFU: Simulation of the algorithm planned for Redis.
 1 file changed, 163 insertions(+)

antirez in commit e423f76:
 LRU: Make cross-database choices for eviction.
 3 files changed, 161 insertions(+), 110 deletions(-)

antirez in commit e64bf05:
 LRU: cache SDS strings in the eviction pool.
 1 file changed, 29 insertions(+), 13 deletions(-)

antirez in commit 965905c:
 Move the struct evictionPoolEntry() into only file using it.
 2 files changed, 22 insertions(+), 12 deletions(-)

antirez in commit d8e92a8:
 Move prototype of evictionPoolAlloc() in server.h.
 2 files changed, 3 insertions(+), 2 deletions(-)

antirez in commit 3b9495d:
 LRU: use C99 variable len stack array in evictionPoolPopulate().
 1 file changed, 1 insertion(+), 11 deletions(-)

antirez in commit 2a12473:
 redis-benchmark: new option to show server errors on stdout.
 1 file changed, 17 insertions(+), 1 deletion(-)

antirez in commit 382991f:
 Remove useless memmove() from freeMemoryIfNeeded().
 1 file changed, 2 insertions(+), 7 deletions(-)

antirez in commit b19b2df:
 LRU: Fix output fixes to new test-lru.rb.
 1 file changed, 6 insertions(+), 6 deletions(-)

antirez in commit 6a1c00c:
 Merge branch 'unstable' of github.com:/antirez/redis into unstable
antirez in commit 32a5494:
 LRU: test-lru.rb improved in different ways.
 2 files changed, 180 insertions(+), 98 deletions(-)

antirez in commit 51c1d40:
 redis_check_rdb(): the rio structure must be global.
 1 file changed, 1 insertion(+), 1 deletion(-)

antirez in commit eee878c:
 redis_check_rdb_main(): create shared objects only if needed.
 1 file changed, 5 insertions(+), 1 deletion(-)

antirez in commit 24882e3:
 Fix redis_check_rdb() return value.
 1 file changed, 3 insertions(+), 2 deletions(-)

antirez in commit 1e6bb9e:
 Remove dead code from geohash_helper.c.
 1 file changed, 6 deletions(-)

antirez in commit 3961071:
 Fix signess issue in geohashEstimateStepsByRadius().
 1 file changed, 2 insertions(+), 1 deletion(-)

antirez in commit 504ccad:
 Fix definition of M_PI in geohash_helper.c.
 2 files changed, 2 insertions(+), 1 deletion(-)

antirez in commit eaa713e:
 geohash.c and geohash_helper.c are part of Redis.
 11 files changed, 686 insertions(+), 717 deletions(-)

antirez in commit 4a140d3:
 Add expire.c and evict.c.
 2 files changed, 718 insertions(+)

antirez in commit b46239e:
 Expire and LRU related code moved into different files.
 5 files changed, 4 insertions(+), 633 deletions(-)

antirez in commit 0610683:
 Makefile: don't build dependencies file for clean, distclean.
 1 file changed, 3 insertions(+)

antirez in commit 1036182:
 Generate Makefile.dep at every build.
 3 files changed, 6 insertions(+), 194 deletions(-)

antirez in commit abb3385:
 Regression test for issue #3333.
 1 file changed, 6 insertions(+)

antirez in commit 2379182:
 getLongLongFromObject: use string2ll() instead of strict_strtoll().
 1 file changed, 1 insertion(+), 15 deletions(-)

antirez in commit ef6a4df:
 redis-cli: check SELECT reply type just in state updated.
 1 file changed, 1 insertion(+), 1 deletion(-)

Salvatore Sanfilippo in commit 0df2865:
 Merge pull request #3365 from sskorgal/unstable
antirez in commit c383be3:
 Sentinel: fix cross-master Sentinel address update.
 1 file changed, 9 insertions(+), 2 deletions(-)

antirez in commit b2cc8bc:
 CONFIG GET is now no longer case sensitive.
 1 file changed, 12 insertions(+), 12 deletions(-)

antirez in commit a0dd014:
 Fix test for new RDB checksum failure message.
 1 file changed, 1 insertion(+), 1 deletion(-)

antirez in commit b99ad1b:
 Make tcp-keepalive default to 300 in internal conf.
 1 file changed, 1 insertion(+), 1 deletion(-)

antirez in commit 7e220a9:
 In Redis RDB check: more details in error reportings.
 1 file changed, 21 insertions(+), 13 deletions(-)

antirez in commit e697153:
 In Redis RDB check: log decompression errors.
 2 files changed, 23 insertions(+), 2 deletions(-)

antirez in commit df3c69e:
 In Redis RDB check: log object type on error.
 1 file changed, 27 insertions(+), 2 deletions(-)

antirez in commit c0f4d19:
 Added a trivial program to randomly corrupt RDB files in /utils.
 1 file changed, 44 insertions(+)

antirez in commit 2ab7097:
 In Redis RDB check: minor output message changes.
 1 file changed, 4 insertions(+), 1 deletion(-)

antirez in commit e9f31ba:
 In Redis RDB check: better error reporting.
 4 files changed, 71 insertions(+), 14 deletions(-)

sskorgal in commit 9dfd9d1:
 Fix for redis_cli printing default DB when select command fails.
 1 file changed, 1 insertion(+), 1 deletion(-)

antirez in commit e97fadb:
 In Redis RDB check: initial POC.
 2 files changed, 189 insertions(+), 660 deletions(-)

Rojin George in commit d0f5307:
 Merge remote-tracking branch 'refs/remotes/antirez/unstable' into unstable
antirez in commit 24bd9b1:
 Test: new randomized stress tester for #3343 alike bugs.
 1 file changed, 27 insertions(+), 2 deletions(-)

antirez in commit f983318:
 Stress tester WIP.
 1 file changed, 3 insertions(+)

antirez in commit 4989986:
 Regression test for issue #3343 exact min crash sequence.
 1 file changed, 16 insertions(+)

antirez in commit dc18a6a:
 Merge branch 'unstable' of github.com:/antirez/redis into unstable
antirez in commit 5e176e1:
 Fix quicklistReplaceAtIndex() by updating the quicklist ziplist size.
 1 file changed, 1 insertion(+)

Salvatore Sanfilippo in commit ae4f5b3:
 Merge pull request #3342 from yossigo/fix_calloc
Yossi Gottlieb in commit 19c401d:
 Fix RedisModule_Calloc() definition typo.
 1 file changed, 1 insertion(+), 1 deletion(-)

rojingeorge in commit 4242fdf:
 Display the nodes summary once the cluster is established using redis-trib.rb
 1 file changed, 5 insertions(+)

rojingeorge in commit 4aab50a:
 Merge remote-tracking branch 'refs/remotes/antirez/unstable' into unstable
Salvatore Sanfilippo in commit f60aa4d:
 Merge pull request #3324 from mishan/fix-wrong-comment-about-sentinel-mode
antirez in commit 1898311:
 Modules: mention RedisModule_Calloc() in the doc.
 1 file changed, 1 insertion(+)

Salvatore Sanfilippo in commit 3a0b776:
 Merge pull request #3335 from dvirsky/rm_calloc
antirez in commit c026b5c:
 Merge branch 'unstable' of github.com:/antirez/redis into unstable
antirez in commit 0f484d8:
 Actually remove static from #3331.
 1 file changed, 1 insertion(+), 2 deletions(-)

Salvatore Sanfilippo in commit 28ea585:
 Merge pull request #3336 from yossigo/create_string_from_string
antirez in commit c0ca87d:
 Minor change to conform PR #3331 to Redis code base style.
 1 file changed, 1 insertion(+), 2 deletions(-)

Salvatore Sanfilippo in commit a66dd43:
 Merge pull request #3331 from yossigo/fix_openkey_crash
Salvatore Sanfilippo in commit 393c468:
 Merge pull request #3338 from tielei/unstable
tielei in commit f648c5a:
 A string with 21 chars is not representable as a 64-bit integer.
 1 file changed, 2 insertions(+), 2 deletions(-)

Salvatore Sanfilippo in commit 3d48c93:
 Merge pull request #3330 from yossigo/fix_const
antirez in commit 4b12c6a:
 Modules: changes to logging function.
 3 files changed, 39 insertions(+), 19 deletions(-)

Yossi Gottlieb in commit 715794b:
 Add RedisModule_Log() logging API function.
 3 files changed, 42 insertions(+)

antirez in commit b507289:
 Commit change in autoMemoryFreed(): first -> last.
 1 file changed, 2 insertions(+), 1 deletion(-)

antirez in commit f2dbc02:
 Modules: implement zig-zag scanning in autoMemoryFreed().
 1 file changed, 20 insertions(+), 16 deletions(-)

Salvatore Sanfilippo in commit 2fe9b79:
 Merge pull request #3244 from dvirsky/optimize_autoMemoryFreed
Yossi Gottlieb in commit 61172ed:
 Add RedisModule_CreateStringFromString().
 5 files changed, 26 insertions(+), 2 deletions(-)

Dvir Volk in commit dc7f3fe:
 added RM_Calloc implementation
 2 files changed, 13 insertions(+), 1 deletion(-)

antirez in commit 4e10b08:
 Modules doc: hint about replacing libc malloc calls.
 1 file changed, 15 insertions(+), 1 deletion(-)

Yossi Gottlieb in commit e22f3e4:
 Cleanup: remove zset reset function from RM_ZsetRangeStop().
 1 file changed, 13 insertions(+), 7 deletions(-)

Yossi Gottlieb in commit a8e2034:
 Fix occasional RM_OpenKey() crashes.
 1 file changed, 1 insertion(+)

Yossi Gottlieb in commit 8f3a4df:
 Use const in Redis Module API where possible.
 13 files changed, 38 insertions(+), 38 deletions(-)

Salvatore Sanfilippo in commit 0b4b7eb:
 Merge pull request #3252 from oranagra/config_fix
Misha Nasledov in commit 7a5538d:
 Fix incorrect comment for checkForSentinelMode function
 1 file changed, 1 insertion(+), 1 deletion(-)

antirez in commit f7351f4:
 Fix Sentinel pending commands counting.
 1 file changed, 1 insertion(+)

antirez in commit 7c8f275:
 redis-cli: really connect to the right server.
 1 file changed, 5 insertions(+), 2 deletions(-)

antirez in commit a3f893b:
 RESTORE: accept RDB dumps with older versions.
 1 file changed, 1 insertion(+), 1 deletion(-)

Salvatore Sanfilippo in commit 8272cea:
 Merge pull request #3255 from oranagra/error_string
Salvatore Sanfilippo in commit 64b834b:
 Merge pull request #3256 from oranagra/georasius_neg
antirez in commit 2f2fd64:
 Minor aesthetic fixes to PR #3264.
 1 file changed, 5 insertions(+), 5 deletions(-)

Salvatore Sanfilippo in commit 33a9836:
 Merge pull request #3264 from oranagra/bitfield_fix2
Salvatore Sanfilippo in commit 5d83f6c:
 Merge pull request #3274 from MOON-CLJ/fix_promoted_slave
antirez in commit 3bd20ea:
 Test TOUCH and new TTL / TYPE behavior about object access time.
 2 files changed, 24 insertions(+)

Salvatore Sanfilippo in commit 226f679:
 Merge pull request #3283 from ideal/unstable
Salvatore Sanfilippo in commit bd2cd70:
 Merge pull request #3281 from jamespedwards42/unstable
antirez in commit 2d86995:
 GETRANGE: return empty string with negative, inverted start/end.
 2 files changed, 6 insertions(+), 2 deletions(-)

antirez in commit eb45e11:
 Remove additional round brackets from fix for #3282.
 1 file changed, 1 insertion(+), 1 deletion(-)

antirez in commit ca54335:
 Merge branch 'unstable' of github.com:/antirez/redis into unstable
Salvatore Sanfilippo in commit 001cadc:
 Merge pull request #3282 from wenduo/unstable
antirez in commit 212f157:
 Regression test for #3282.
 1 file changed, 10 insertions(+)

Salvatore Sanfilippo in commit 3deb7ba:
 Merge pull request #3226 from MichielDeMey/patch-1
Salvatore Sanfilippo in commit 82554ca:
 Merge pull request #3313 from zshipko/unstable
zach shipko in commit b7b9aa6:
 BSDs don't have -ldl
 1 file changed, 15 insertions(+), 5 deletions(-)

antirez in commit 41d804d:
 TTL and TYPE LRU access fixed. TOUCH implemented.
 3 files changed, 60 insertions(+), 8 deletions(-)

antirez in commit cd8e688:
 redis-cli help.h updated.
 1 file changed, 13 insertions(+), 8 deletions(-)

antirez in commit c6e3ce3:
 Enable tcp-keepalive by default.
 1 file changed, 3 insertions(+), 2 deletions(-)

antirez in commit 5ba9bde:
 Modules: document how to pass config params to modules.
 1 file changed, 19 insertions(+), 1 deletion(-)

antirez in commit 5831dd8:
 Fix example modules to have the right OnLoad() prototype.
 2 files changed, 8 insertions(+), 2 deletions(-)

antirez in commit a4bce77:
 Don't assume no padding or specific ordering in moduleLoadQueueEntry structure.
 2 files changed, 4 insertions(+), 3 deletions(-)

antirez in commit 9a02dac:
 Free module context after loading.
 1 file changed, 1 insertion(+)

antirez in commit b6cd008:
 Make sure modules arguments are raw strings.
 1 file changed, 1 insertion(+), 1 deletion(-)

antirez in commit 1ad5c22:
 Minor changes to unifor C style to Redis code base for PR #3293.
 3 files changed, 8 insertions(+), 6 deletions(-)

Salvatore Sanfilippo in commit e8d5387:
 Merge pull request #3293 from yossigo/module_config
antirez in commit e71f22f:
 Fix typo: after -> before.
 1 file changed, 1 insertion(+), 1 deletion(-)

antirez in commit e4567f2:
 Explain why module type names are 9 chars.
 1 file changed, 52 insertions(+)

Salvatore Sanfilippo in commit 688996f:
 Merge pull request #3295 from catwell/pr-1-warnings
Salvatore Sanfilippo in commit b4327ae:
 Merge pull request #3294 from yossigo/fix_unload
antirez in commit a1684ff:
 Remove tryObjectEncoding() calls from list type.
 1 file changed, 3 deletions(-)

antirez in commit 5beec97:
 Merge branch 'unstable' of github.com:/antirez/redis into unstable
Michiel De Mey in commit 90781de:
 Added documentation for non-interactive install procedure
 1 file changed, 19 insertions(+), 3 deletions(-)

Salvatore Sanfilippo in commit ab73544:
 Merge pull request #3296 from catwell/pr-2-variadic-pushx
andyli in commit 93a0987:
 fix comment "b>a" to "a > b"
 1 file changed, 1 insertion(+), 1 deletion(-)

antirez in commit 2a57ad5:
 Fixed typo in Sentinel compareSlavesForPromotion() comment.
 1 file changed, 1 insertion(+), 1 deletion(-)

antirez in commit 243c9dc:
 Merge branch 'unstable' of github.com:/antirez/redis into unstable
Salvatore Sanfilippo in commit 01a34b1:
 Merge pull request #2870 from SaurabhJha/documenation-fixes
antirez in commit 67fcd26:
 Merge branch 'unstable' of github.com:/antirez/redis into unstable
Salvatore Sanfilippo in commit bac4de7:
 Merge pull request #3180 from bogdanvlviv/fix_pidfile
antirez in commit 5481336:
 Merge branch 'unstable' of github.com:/antirez/redis into unstable
Salvatore Sanfilippo in commit 53c008a:
 Merge pull request #3303 from jspraul/patch-1
antirez in commit b664aeb:
 Improve timer callback creation comment.
 1 file changed, 3 insertions(+), 2 deletions(-)

jspraul in commit 4df95e8:
 Include 'fd_set' type name
 1 file changed, 1 insertion(+)

Salvatore Sanfilippo in commit 30c1a85:
 Merge pull request #3301 from yossigo/fix_unused_warning
Yossi Gottlieb in commit 2fd6ca3:
 Remove gcc warning when redismodule.h is included by a multi-file module.
 1 file changed, 1 insertion(+)

Saurabh Jha in commit 319b126:
 Fixup
 1 file changed, 8 insertions(+), 8 deletions(-)

Saurabh Jha in commit 61717ac:
 More edits to README
 1 file changed, 15 insertions(+), 15 deletions(-)

Saurabh Jha in commit 0f10b16:
 Address grammatical comments
 1 file changed, 2 insertions(+), 2 deletions(-)

Saurabh Jha in commit 90a3647:
 Fix typos in documentation
 2 files changed, 15 insertions(+), 16 deletions(-)

Pierre Chapuis in commit d88c3c7:
 make RPUSHX and LPUSHX variadic
 3 files changed, 18 insertions(+), 9 deletions(-)

Pierre Chapuis in commit b670a16:
 remove unused variable
 1 file changed, 2 insertions(+), 2 deletions(-)

Pierre Chapuis in commit 3e9c20f:
 untangle LINSERT and {L,R}PUSHX implementations
 1 file changed, 45 insertions(+), 40 deletions(-)

Pierre Chapuis in commit 188d90f:
 fix some compiler warnings
 3 files changed, 17 insertions(+), 10 deletions(-)

Yossi Gottlieb in commit 87312ff:
 Fix MODULE UNLOAD crash and/or wrong error message.
 1 file changed, 14 insertions(+), 7 deletions(-)

Yossi Gottlieb in commit cc58f11:
 Use RedisModuleString for OnLoad argv.
 3 files changed, 5 insertions(+), 11 deletions(-)

Yossi Gottlieb in commit 2bd13cf:
 Allow passing arguments to modules on load.
 3 files changed, 46 insertions(+), 13 deletions(-)

antirez in commit 550fa7e:
 modules API.md updated.
 1 file changed, 232 insertions(+), 10 deletions(-)

antirez in commit c3f5b6e:
 Modules: native types doc, 70% done.
 1 file changed, 305 insertions(+)

antirez in commit 5830d88:
 Modules: pool allocator doc.
 1 file changed, 53 insertions(+), 1 deletion(-)

antirez in commit 31eb8ec:
 Modules: top comments in helloworld.c and hellotype.c.
 2 files changed, 74 insertions(+)

antirez in commit 8ec2800:
 Modules: support for modules native data types.
 11 files changed, 991 insertions(+), 35 deletions(-)

antirez in commit 27e5f38:
 RDB v8: fix rdbLoadLen() return value.
 3 files changed, 61 insertions(+), 36 deletions(-)

antirez in commit e6554be:
 RDB v8: new ZSET storage format with binary doubles.
 2 files changed, 27 insertions(+), 5 deletions(-)

antirez in commit 4aae4f7:
 RDB v8: ability to save uint64_t lengths.
 3 files changed, 34 insertions(+), 44 deletions(-)

antirez in commit b64fcbc:
 Test: run GEO tests by default.
 1 file changed, 1 insertion(+)

antirez in commit 231c9db:
 Now that SPOP can be called by scripts use BLPOP on 's' flag test.
 1 file changed, 1 insertion(+), 1 deletion(-)

antirez in commit 2503acf:
 Avoid undefined behavior in BITFIELD implementation.
 1 file changed, 15 insertions(+), 8 deletions(-)

Salvatore Sanfilippo in commit 9200312:
 Merge pull request #3278 from itamarhaber/patch-8
antirez in commit 5d4b5fb:
 Geo: fix typo in geohashEstimateStepsByRadius().
 1 file changed, 1 insertion(+), 1 deletion(-)

antirez in commit 18a513f:
 Merge branch 'unstable' of github.com:/antirez/redis into unstable
antirez in commit 4eff3dc:
 Fix GEORADIUS wrong output with radius > Earth radius.
 1 file changed, 2 insertions(+)

ideal in commit 4067132:
 fix mistake comment in object.c
 1 file changed, 1 insertion(+), 1 deletion(-)

wenduo in commit 41dacdb:
 bitcount bug:return non-zero value when start > end (both negative)
 1 file changed, 4 insertions(+)

jamespedwards42 in commit 3432061:
 Fix modules intro typos.
 1 file changed, 3 insertions(+), 4 deletions(-)

Itamar Haber in commit 2866e02:
 Allow SPOP from Lua scripts
 1 file changed, 1 insertion(+), 1 deletion(-)

MOON_CLJ in commit aa57844:
 fix check when can't send the command to the promoted slave
 1 file changed, 1 insertion(+), 1 deletion(-)

oranagra in commit 5d96b7e:
 check WRONGTYPE in BITFIELD before looping on the operations.
 1 file changed, 18 insertions(+), 9 deletions(-)

oranagra in commit c4433d2:
 fix crash in BITFIELD GET on non existing key or wrong type see #3259
 1 file changed, 5 insertions(+), 3 deletions(-)

oranagra in commit f3e81de:
 fix georadius returns multiple replies
 1 file changed, 5 insertions(+), 2 deletions(-)

oranagra in commit 8d9d8d1:
 CLIENT error message was out of date
 1 file changed, 1 insertion(+), 1 deletion(-)

Salvatore Sanfilippo in commit 8c4f4d1:
 Merge pull request #3249 from badboy/rcli-debug-printing
oranagra in commit 5fa711f:
 config set list-max-ziplist-size didn't support negative values, unlike config file
 1 file changed, 3 insertions(+), 3 deletions(-)

Jan-Erik Rediger in commit 892565f:
 Remove debug printing
 1 file changed, 3 deletions(-)

Dvir Volk in commit 137fd86:
 optimized amFree even further
 1 file changed, 9 insertions(+), 4 deletions(-)

Dvir Volk in commit 46b07cb:
 Optimized autoMemoryFreed loop
 1 file changed, 4 insertions(+), 1 deletion(-)

antirez in commit b09a6b6:
 Fix modules compilation when libc malloc is used.
 1 file changed, 2 insertions(+), 2 deletions(-)

Salvatore Sanfilippo in commit bafed3d:
 Merge pull request #3222 from oranagra/more_minir_fixes
antirez in commit e3edae9:
 Modules: RM_HashSet() SDS ownership business clarified in comments.
 1 file changed, 5 insertions(+), 5 deletions(-)

Salvatore Sanfilippo in commit 01a83d0:
 Merge pull request #3239 from dvirsky/fix_hashset_crash
antirez in commit bee963c:
 Code to access object string bytes repeated 3x refactored into 1 function.
 1 file changed, 39 insertions(+), 35 deletions(-)

antirez in commit ffd1600:
 Clarify that the LOG_STR_SIZE includes null term.
 1 file changed, 1 insertion(+), 1 deletion(-)

Salvatore Sanfilippo in commit 4c9c9d7:
 Merge pull request #3221 from oranagra/bitfield_fix
antirez in commit 078f461:
 Test for BITFIELD regression #3221.
 1 file changed, 5 insertions(+)

antirez in commit c6c86ea:
 Merge branch 'unstable' of github.com:/antirez/redis into unstable
antirez in commit 968e838:
 Actually use --with-lg-quantum=3 to build jemalloc.
 1 file changed, 1 insertion(+), 1 deletion(-)

Dvir Volk in commit cfaef8d:
 fixed bad transfer of ownership in HashSet causing a potential crash
 1 file changed, 7 insertions(+), 4 deletions(-)

Salvatore Sanfilippo in commit b1b1f4e:
 Merge pull request #3238 from oranagra/struct_fix
oranagra in commit 283a812:
 reduce struct padding by reordering members
 1 file changed, 1 insertion(+), 1 deletion(-)

antirez in commit 9aff564:
 Modules: initial pool allocator and a LEFTPAD usage example.
 3 files changed, 147 insertions(+), 4 deletions(-)

Michiel De Mey in commit af1e63c:
 Allow non-interactive execution of install_server
 1 file changed, 45 insertions(+), 28 deletions(-)

antirez in commit 646c958:
 Modules: doc layout improved.
 4 files changed, 1475 insertions(+), 575 deletions(-)

antirez in commit 745845d:
 Modules doc: mention the functions not yet documented.
 1 file changed, 25 insertions(+), 8 deletions(-)

oranagra in commit 77a9144:
 fix crash in BITFIELD GET when key is integer encoded
 1 file changed, 15 insertions(+), 3 deletions(-)

antirez in commit 5daece2:
 RM_ZsetRangeNext()/Prev() typo in define name leading to crash fixed.
 1 file changed, 2 insertions(+), 2 deletions(-)

antirez in commit 5f977c3:
 Modules: commandFlagsFromString() top comment back to 80 cols max.
 1 file changed, 29 insertions(+), 24 deletions(-)

antirez in commit ef2b4f6:
 Trailing spaces removed from moduleCreateArgvFromUserFormat().
 1 file changed, 4 insertions(+), 4 deletions(-)

antirez in commit 6250a6b:
 Modules: RM_GetClientId() implemented.
 2 files changed, 19 insertions(+)

Dvir Volk in commit 9a71df5:
 fixed crash when calling CreateStringFromCallReply on array elements
 1 file changed, 1 insertion(+)

Itamar Haber in commit 3816f16:
 Avoids reallocating and double String on truncate
 1 file changed, 17 insertions(+), 18 deletions(-)

Dvir Volk in commit d41bd23:
 fixed comment formatting in RM_CreateCommand
 1 file changed, 13 insertions(+), 13 deletions(-)

Ramon Snir in commit 909a707:
 vector of strings is implemented now
 1 file changed, 1 insertion(+), 1 deletion(-)

Dvir Volk in commit a00e872:
 another small comment fix
 1 file changed, 2 insertions(+), 1 deletion(-)

Dvir Volk in commit 87de31f:
 fixed comment
 1 file changed, 3 insertions(+), 1 deletion(-)

Dvir Volk in commit 8fc6708:
 second attempt at vector formtting
 1 file changed, 12 insertions(+), 1 deletion(-)

antirez in commit 7f5e134:
 Modules: add ZADD_INCR flag to zset increment API.
 1 file changed, 1 insertion(+)

Itamar Haber in commit 1186f92:
 typo: %s/Emtpy/Empty/g
 1 file changed, 5 insertions(+), 5 deletions(-)

antirez in commit 227d680:
 Modules: command <-> core interface modified to get flags & keys.
 7 files changed, 177 insertions(+), 40 deletions(-)

Ramon Snir in commit 676a6a4:
 tiny typo in Redis Modules API documentation
 1 file changed, 1 insertion(+), 1 deletion(-)

Dvir Volk in commit a1f8e22:
 fixed return value of HashGet (and a slight error in the documentation)
 1 file changed, 2 insertions(+), 2 deletions(-)

antirez in commit 02c4a6c:
 Modules: REDISMODULE_POSTPONED_ARRAY_LEN doc.
 1 file changed, 45 insertions(+)

antirez in commit 42f7221:
 Modules: Hash API defines made more uniform.
 3 files changed, 38 insertions(+), 42 deletions(-)

antirez in commit 9b0556c:
 Modules: Hash type API WIP #2.
 3 files changed, 60 insertions(+), 4 deletions(-)

antirez in commit 10993ca:
 Modules: Hash type API WIP #1.
 4 files changed, 212 insertions(+), 6 deletions(-)

antirez in commit 5bf5fd2:
 Modules: a few fixes for the zset iterator.
 2 files changed, 13 insertions(+), 6 deletions(-)

antirez in commit 33e1231:
 Modules: postponed array lengths.
 2 files changed, 86 insertions(+), 3 deletions(-)

antirez in commit 00109e1:
 Modules: zset lex iterator #3.
 3 files changed, 49 insertions(+), 3 deletions(-)

antirez in commit db3ade2:
 Modules: zset lex iterator #2.
 3 files changed, 30 insertions(+), 6 deletions(-)

antirez in commit 2b04f86:
 Modules: zset lex iterator #1.
 3 files changed, 77 insertions(+), 4 deletions(-)

antirez in commit 083f527:
 Modules: zset iterator redesign #1.
 4 files changed, 76 insertions(+), 106 deletions(-)

antirez in commit d998170:
 Simple Ruby script to generate reference doc added.
 1 file changed, 38 insertions(+)

antirez in commit 0fd6d54:
 Modules: fix top comments to be user-facing doc quality. About 33% done.
 1 file changed, 137 insertions(+), 51 deletions(-)

antirez in commit f362f7a:
 Modules: sorted set iterators WIP #3.
 4 files changed, 134 insertions(+), 24 deletions(-)

antirez in commit bdbb5a0:
 Modules: put zset iterator current element in auto memory pool.
 1 file changed, 6 insertions(+), 2 deletions(-)

antirez in commit 6eeeda3:
 Modules: sorted set iterators WIP #2.
 3 files changed, 34 insertions(+), 4 deletions(-)

antirez in commit eac5a13:
 Modules: sorted set iterators WIP.
 4 files changed, 221 insertions(+), 1 deletion(-)

antirez in commit 556d593:
 Remove useless space.
 1 file changed, 1 insertion(+), 1 deletion(-)

antirez in commit d5ecedd:
 Modules: ZSET API WIP #4.
 2 files changed, 33 insertions(+), 1 deletion(-)

antirez in commit e1b34ec:
 Modules: ZSET API WIP #3.
 2 files changed, 24 insertions(+)

antirez in commit 4457e4a:
 Modules: ZSET API WIP #2.
 2 files changed, 93 insertions(+), 1 deletion(-)

antirez in commit f199504:
 Modules: ZSET API WIP.
 2 files changed, 14 insertions(+), 5 deletions(-)

antirez in commit 11b3df2:
 Modules: expire API and documentation.
 4 files changed, 101 insertions(+)

antirez in commit f4e0129:
 Modules: RedisModule_ReplyWithCallReply().
 4 files changed, 31 insertions(+), 1 deletion(-)

Itamar Haber in commit 6054089:
 Stops SPLICE from accepting negative counts
 1 file changed, 6 insertions(+), 2 deletions(-)

Sun He in commit 2e464bf:
 modules/RM_StringTruncate: correct reallocate condition
 1 file changed, 1 insertion(+), 1 deletion(-)

Sun He in commit 3a7b170:
 modules/RM_OpenKey: avoid decrRefCount obj twice
 1 file changed, 1 deletion(-)

Sun He in commit 1868dee:
 modules/RM_StringSet: set key->value
 1 file changed, 1 insertion(+)

Sun He in commit fded8aa:
 modules: correct protolen
 1 file changed, 4 insertions(+), 4 deletions(-)

antirez in commit 4efe9e1:
 Add the last break for consistency in moduleCreateCallReplyFromProto.
 1 file changed, 1 insertion(+), 1 deletion(-)

Dvir Volk in commit e453d36e:
 fixed case in moduleCreateCallReplyFromProto
 1 file changed, 4 insertions(+), 4 deletions(-)

Dvir Volk in commit ae5cb3f:
 renamed RedisModule_ReplyWithNull to RM_ReplyWithNull to fix compilation
 1 file changed, 1 insertion(+), 1 deletion(-)

antirez in commit 2967c00:
 Modules: RedisModule_ReplyWithNull() implemented.
 2 files changed, 9 insertions(+)

Dvir Volk in commit e711a9a:
 fixed the doc with a right function name
 1 file changed, 3 insertions(+), 2 deletions(-)

Yossi Gottlieb in commit e443ad9:
 Log loadmodule dlopen() errors.
 1 file changed, 4 insertions(+), 1 deletion(-)

antirez in commit 85919f8:
 Modules: avoid conflict between modules func pointers and dynamic symbols.
 2 files changed, 95 insertions(+), 88 deletions(-)

antirez in commit 6020469:
 Modules: remove warnings due to void/function pointer conversion.
 1 file changed, 7 insertions(+), 6 deletions(-)

Dvir Volk in commit 34f2fb7:
 fixed makefile for linux
 1 file changed, 12 insertions(+), 2 deletions(-)

antirez in commit 6dead2c:
 Modules: first preview 31 March 2016.
 13 files changed, 2625 insertions(+), 4 deletions(-)

oranagra in commit 9682b61:
 minor fixes - mainly signalModifiedKey, and GEORADIUS
 6 files changed, 19 insertions(+), 16 deletions(-)

antirez in commit 3b644e8:
 Merge branch 'unstable' of github.com:/antirez/redis into unstable
Salvatore Sanfilippo in commit b44ad30:
 Merge pull request #732 from evilpacket/remove_dofile
antirez in commit 8eb43bf:
 redis-cli: integrate help.h with COMMAND output.
 1 file changed, 70 insertions(+), 10 deletions(-)

antirez in commit f9ee039:
 Scripting test: match new error message.
 1 file changed, 1 insertion(+), 1 deletion(-)

antirez in commit 2205c46:
 Cluster: don't check scripts key slots during AOF loading.
 1 file changed, 4 insertions(+), 2 deletions(-)

antirez in commit 94dc71f:
 redis-cli: remove debugging message.
 1 file changed, 1 deletion(-)

antirez in commit bdbeb07:
 Merge branch 'unstable' of github.com:/antirez/redis into unstable
antirez in commit 68dd1c9:
 Revert "Fix commandCommand arity"
 1 file changed, 1 insertion(+), 1 deletion(-)

Salvatore Sanfilippo in commit f0fcc36:
 Merge pull request #2956 from pkulchenko/global-protection-msg-typo
Ruben Bridgewater in commit efa0840:
 Fix commandCommand arity
 1 file changed, 1 insertion(+), 1 deletion(-)

Salvatore Sanfilippo in commit f5ff91f:
 Merge pull request #2998 from danielhtshih/unstable
Salvatore Sanfilippo in commit 0c1f84f:
 Merge pull request #3006 from baishaofei/unstable
Salvatore Sanfilippo in commit 7b90815:
 Merge pull request #3008 from badboy/fix-2911
antirez in commit 02db338:
 redis-cli: don't free historyfile, is used later.
 1 file changed, 1 insertion(+), 1 deletion(-)

antirez in commit 4c53bab:
 Cluster test 12: reshard back just a few slots to speedup the test.
 1 file changed, 7 insertions(+), 7 deletions(-)

antirez in commit 971e3c5:
 Cluster: make getNodeByQuery() responsible of -CLUSTERDOWN errors.
 2 files changed, 21 insertions(+), 18 deletions(-)

Salvatore Sanfilippo in commit 330715a:
 Merge pull request #3039 from itamarhaber/patch-3
Salvatore Sanfilippo in commit a4df156:
 Merge pull request #3077 from Palethorn/ipv6-redirect-parse
antirez in commit c77b95f:
 Bind both IPv4 and IPv6 or exit with an error by default.
 1 file changed, 10 insertions(+), 8 deletions(-)

antirez in commit 0bb787d:
 Quick fix to avoid false positive in replica migration test.
 1 file changed, 4 insertions(+), 1 deletion(-)

Chris Thunes in commit d827dbf:
 Ensure slots are rechecked on EXEC.
 1 file changed, 7 insertions(+), 2 deletions(-)

Salvatore Sanfilippo in commit 91b4966:
 Merge pull request #3188 from therealbill/unstable
Salvatore Sanfilippo in commit de3a673:
 Merge pull request #3193 from sethbergman/patch-1
Salvatore Sanfilippo in commit 09153b9:
 Merge pull request #3152 from be-hase/fix/check_open_slots
antirez in commit b76d27c:
 Added a tool for generating changelogs automatically.
 1 file changed, 26 insertions(+)

antirez in commit b632f78:
 Minor redis-cli wording change in --help output.
 1 file changed, 2 insertions(+), 1 deletion(-)

antirez in commit 995b9ff:
 Allow CONFIG GET during loading.
 2 files changed, 7 insertions(+), 1 deletion(-)

antirez in commit 5500c51:
 Command "r" flag removed from commands not accessing the key space.
 1 file changed, 35 insertions(+), 35 deletions(-)

antirez in commit 840ac20:
 DEBUG command self documentation.
 2 files changed, 49 insertions(+), 2 deletions(-)

Salvatore Sanfilippo in commit b5352ee:
 Merge pull request #3191 from oranagra/minor_fix
antirez in commit 2c22f59:
 Reply with error on negative geo radius.
 1 file changed, 4 insertions(+), 1 deletion(-)

antirez in commit 9c48f28:
 Cluster regression test for #3043.
 1 file changed, 61 insertions(+)

antirez in commit 4fdde78:
 New masters with slots are now targets of migration if others are.
 1 file changed, 35 insertions(+), 1 deletion(-)

Seth Bergman in commit da26f2b:
 Fixed typo in README.md
 1 file changed, 1 insertion(+), 1 deletion(-)

Oran Agra in commit 5e3880a:
 various cleanups and minor fixes
 12 files changed, 39 insertions(+), 45 deletions(-)

Oran Agra in commit 6ed8c28:
 dict.c minor optimization
 1 file changed, 4 insertions(+), 4 deletions(-)

Oran Agra in commit 7b52ef1:
 networking.c minor optimization
 1 file changed, 5 insertions(+), 6 deletions(-)

Oran Agra in commit f8909a2:
 add DEBUG JEMALLC PURGE and JEMALLOC INFO cleanup
 2 files changed, 17 insertions(+), 2 deletions(-)

Oran Agra in commit 7ba9022:
 fix small issues in redis 3.2
 2 files changed, 3 insertions(+), 1 deletion(-)

Oran Agra in commit b554895:
 additional fix to issue #2948
 1 file changed, 3 insertions(+)

therealbill in commit 14086a4:
 fix for #3187
 3 files changed, 4 insertions(+), 4 deletions(-)

bogdanvlviv in commit 5565cc6:
 fix pidfile in redis.conf
 1 file changed, 1 insertion(+), 1 deletion(-)

Salvatore Sanfilippo in commit 4cbe044:
 Merge pull request #3174 from djanowski/fix-zincrby-return-value
Damian Janowski in commit 0b4bb50:
 Fix ZINCRBY return value.
 2 files changed, 8 insertions(+)

antirez in commit dda0f37:
 ZREM refactored into proper API.
 2 files changed, 48 insertions(+), 49 deletions(-)

antirez in commit 6f926c3:
 ZRANK refactored into proper API.
 2 files changed, 72 insertions(+), 50 deletions(-)

antirez in commit b73c7af:
 zsetAdd() API exposed into server.h.
 2 files changed, 16 insertions(+), 15 deletions(-)

antirez in commit b1f181a:
 ZADD refactored into a proper API.
 1 file changed, 182 insertions(+), 86 deletions(-)

antirez in commit e0eb5f6:
 redis-cli preferences and rc file support.
 1 file changed, 85 insertions(+), 17 deletions(-)

antirez in commit 70b3314:
 redis-cli help.h updated.
 1 file changed, 18 insertions(+), 8 deletions(-)

antirez in commit d1ddf7e:
 redis-cli hints.
 3 files changed, 62 insertions(+), 1 deletion(-)

antirez in commit d6e2cc7:
 Linenoise updated again (hints support).
 4 files changed, 248 insertions(+), 8 deletions(-)

antirez in commit 8a98b8d:
 Linenoise updated.
 1 file changed, 45 insertions(+), 15 deletions(-)

antirez in commit b9feef9:
 ae.c: Fix delay until next timer event.
 1 file changed, 12 insertions(+), 9 deletions(-)

antirez in commit ace780c:
 ae.c: comment to explain why we have a useless maxId check.
 1 file changed, 5 insertions(+), 1 deletion(-)

antirez in commit 67b70a1:
 Fix ae.c to avoid timers infinite loop.
 4 files changed, 28 insertions(+), 30 deletions(-)

Ryosuke Hasebe in commit cad9ea5:
 fix variable
 1 file changed, 5 insertions(+), 5 deletions(-)

Ryosuke Hasebe in commit d5aa7e2:
 fix check_open_slots
 1 file changed, 2 insertions(+), 1 deletion(-)

antirez in commit 28c291c:
 BITFIELD: overflow wrap behavior fuzz tester.
 1 file changed, 51 insertions(+)

antirez in commit ae7317e:
 BITFIELD basic unit tests.
 1 file changed, 85 insertions(+), 1 deletion(-)

antirez in commit fc84378:
 BITFIELD: Farest bit set is offset+bits-1. Off by one error fixed.
 1 file changed, 4 insertions(+), 2 deletions(-)

antirez in commit 9a00da0:
 BITFIELD: overflow fuzzy testing.
 2 files changed, 53 insertions(+)

antirez in commit 27fc01a:
 Fix typo in bitops.tcl comment.
 1 file changed, 1 insertion(+), 1 deletion(-)

antirez in commit fe64960:
 More BITFIELD fixes. Overflow conditional simplified.
 1 file changed, 8 insertions(+), 9 deletions(-)

Salvatore Sanfilippo in commit 235f553:
 Merge pull request #3118 from sunheehnus/bitfield-fix-minor-bug
Sun He in commit 93cc8ba:
 bitops/bitfield: fix length, overflow condition and *sign
 1 file changed, 8 insertions(+), 5 deletions(-)

antirez in commit e85d6f2:
 Fix INFO commandstats reporting when argv is rewritten.
 2 files changed, 3 insertions(+), 3 deletions(-)

antirez in commit 32289d5:
 BITFIELD: refactoring & fix of retval on FAIL.
 1 file changed, 24 insertions(+), 8 deletions(-)

antirez in commit 11745e0:
 BITFIELD: Fix #<index> form parsing.
 1 file changed, 4 insertions(+), 6 deletions(-)

antirez in commit 2800d09:
 BITFIELD: Support #<index> offsets form.
 1 file changed, 23 insertions(+), 6 deletions(-)

antirez in commit 70af626:
 BITFIELD command initial implementation.
 3 files changed, 476 insertions(+), 32 deletions(-)

Salvatore Sanfilippo in commit 438ae49:
 Merge pull request #3101 from itamarhaber/geohumanized
Itamar Haber in commit b5149f0:
 Eliminates engineers near the equator & prime meridian
 1 file changed, 4 insertions(+), 4 deletions(-)

Itamar Haber in commit 41030ae:
 Fixes a typo in a comment
 1 file changed, 1 insertion(+), 1 deletion(-)

Itamar Haber in commit 4e9c302:
 Adjusts accuracy for GEODIST
 1 file changed, 1 insertion(+), 1 deletion(-)

antirez in commit cf42c48:
 addReplyHumanLongDouble() API added.
 2 files changed, 10 insertions(+)

antirez in commit f4befcc:
 GEOADD STORE/STOREDIST tests.
 1 file changed, 54 insertions(+)

antirez in commit bb75ecd:
 New options for GEORADIUS: STORE and STOREDIST.
 4 files changed, 116 insertions(+), 49 deletions(-)

antirez in commit 15f37eb:
 Cluster: resharding test provides more state when failing.
 1 file changed, 8 insertions(+), 3 deletions(-)

antirez in commit b0ec22f:
 Include full paths on RDB/AOF files errors.
 2 files changed, 32 insertions(+), 4 deletions(-)

antirez in commit fcd7df5:
 Remove Lua state reference from buffers in lua_cmsgpack.
 1 file changed, 25 insertions(+), 28 deletions(-)

Salvatore Sanfilippo in commit 66dbc5e:
 Merge pull request #3072 from yoav-steinberg/cmsgpack_fix
David Cavar in commit c30ffaa:
 Reverse redirect address parse
 1 file changed, 1 insertion(+), 1 deletion(-)

yoav@monfort.co.il in commit fdbefc9:
 cmsgpack: pass correct osize values to lua allocator, update correct buf free space in cmsgpack
 1 file changed, 4 insertions(+), 4 deletions(-)

Salvatore Sanfilippo in commit aa953b6:
 Merge pull request #3059 from itamarhaber/keyspacenotif-lrem
Itamar Haber in commit 31a70a8:
 Fixes a typo
 1 file changed, 2 insertions(+), 2 deletions(-)

Itamar Haber in commit 68e779f:
 Adds keyspace notifications for lrem
 1 file changed, 6 insertions(+), 1 deletion(-)

antirez in commit 5b7b235:
 Fix to Cluster test to support @busport format.
 1 file changed, 4 insertions(+), 2 deletions(-)

antirez in commit cbcffed:
 Cluster: redis-trib: support @busport format in ClusterNode.
 1 file changed, 1 insertion(+), 1 deletion(-)

antirez in commit b841f3a:
 Cluster: store busport with different separator in CLUSTER NODES.
 1 file changed, 13 insertions(+), 9 deletions(-)

antirez in commit 92b9de2:
 Cluster announce: WIP, allow building again.
 1 file changed, 1 insertion(+), 1 deletion(-)

antirez in commit 5ac5e3e:
 Cluster announce ip/port/bus-port documented in redis.conf.
 1 file changed, 33 insertions(+)

antirez in commit e27b9b1:
 Merge branch 'cluster-docker' into unstable
antirez in commit cdbe8a6:
 Typo ASII -> ASCII fixed in comment.
 1 file changed, 1 insertion(+), 1 deletion(-)

antirez in commit c285862:
 Cluster: include node IDs in SLOTS output.
 1 file changed, 6 insertions(+), 2 deletions(-)

antirez in commit d0a8512:
 Cluster anounce-ip/port WIP.
 1 file changed, 1 insertion(+)

antirez in commit 4abf486:
 Cluster announce port: set port/bport for myself at startup.
 1 file changed, 7 insertions(+), 2 deletions(-)

antirez in commit 1c03837:
 Cluster: persist bus port in nodes.conf.
 1 file changed, 8 insertions(+), 2 deletions(-)

antirez in commit dc98907:
 Cluster announce ip: take myself->ip always in sync.
 1 file changed, 30 insertions(+), 6 deletions(-)

antirez in commit 11436b1:
 Cluster announce ip / port initial implementation.
 5 files changed, 127 insertions(+), 42 deletions(-)

antirez in commit b093930:
 Cluster announce ip / port configuration handling.
 3 files changed, 12 insertions(+)

antirez in commit a455e4b:
 Cluster: add announce ip field in messages header.
 1 file changed, 3 insertions(+), 2 deletions(-)

Itamar Haber in commit 9e46bf2:
 Fixes a typo
 1 file changed, 1 insertion(+), 1 deletion(-)

antirez in commit 8870a7e:
 03_test_release.sh: proper cleanup before testing.
 1 file changed, 2 insertions(+)

antirez in commit 5bbb09e:
 Cluster: check packets length before accessing far fields.
 1 file changed, 10 insertions(+), 5 deletions(-)

antirez in commit 751b566:
 Sentinel: improve handling of known Sentinel instances.
 1 file changed, 34 insertions(+), 19 deletions(-)

antirez in commit 5bc7e01:
 Use a smoother running average for avg_ttl in INFO.
 1 file changed, 9 insertions(+), 5 deletions(-)

antirez in commit fe44a7c:
 Cluster: mismatch sender ID log put back at DEBUG level.
 1 file changed, 1 insertion(+), 1 deletion(-)

antirez in commit d6c5922:
 Cluster: fix missing ntohs() call to access gossip section port.
 1 file changed, 1 insertion(+), 1 deletion(-)

antirez in commit 592419b:
 Better address udpate strategy when processing gossip sections.
 1 file changed, 15 insertions(+), 6 deletions(-)

antirez in commit 22892ce:
 Merge branch 'unstable' of github.com:/antirez/redis into unstable
antirez in commit bc15586:
 Fix memory leak in masterauth config option loading.
 1 file changed, 1 insertion(+)

Salvatore Sanfilippo in commit 7837c48:
 Merge pull request #3023 from itamarhaber/patch-2
Itamar Haber in commit 57f8230:
 Removes an extra space in protected mode message
 1 file changed, 1 insertion(+), 1 deletion(-)

antirez in commit 83b862a:
 Minor MIGRATE refactoring.
 1 file changed, 12 insertions(+), 5 deletions(-)

antirez in commit f5a1e60:
 More variadic MIGRATE fixes.
 1 file changed, 9 insertions(+), 8 deletions(-)

antirez in commit 00d3a40:
 Various fixes to MIGRATE with multiple keys.
 1 file changed, 45 insertions(+), 12 deletions(-)

antirez in commit cfc879b:
 Merge branch 'unstable' of github.com:/antirez/redis into unstable
antirez in commit b01b32b:
 Test: Handle LOADING in restart_instance.
 1 file changed, 12 insertions(+)

Salvatore Sanfilippo in commit 8637384:
 Merge pull request #2726 from seppo0010/patch-2
antirez in commit 5432fc8:
 Detect and show crashes on Sentinel/Cluster tests.
 1 file changed, 18 insertions(+)

antirez in commit fc3ca8f:
 Cluster: fix setting nodes slaveof pointer to NULL on node release.
 1 file changed, 3 insertions(+), 14 deletions(-)

antirez in commit a411d55:
 Cluster: clarify node->slave may be NULL.
 1 file changed, 4 insertions(+), 1 deletion(-)

Jan-Erik Rediger in commit 15dacfe:
 Fix nanosecond conversion
 1 file changed, 1 insertion(+), 1 deletion(-)

antirez in commit f984cef:
 Cluster: fix rebalancing to always empty nodes.
 1 file changed, 24 insertions(+), 3 deletions(-)

root in commit 28e80bf:
 fix linux compile bug
 2 files changed, 9 insertions(+), 9 deletions(-)

antirez in commit 152e9f6:
 Cluster: redis-trib move_to_slot: don't send SETSLOT to slaves.
 1 file changed, 1 insertion(+)

Daniel Shih in commit e6d9705:
 Fix a possible race condition of sdown detection if the connection to master/slave/sentinel decames disconnected just after the last PONG and before the next PING.
 1 file changed, 2 insertions(+)

antirez in commit c6e5088:
 Cluster: fix redis-trib reference of variable in warning.
 1 file changed, 1 insertion(+), 1 deletion(-)

antirez in commit 02c40c9:
 CLUSTER BUMPEPOCH initial implementation fixed.
 2 files changed, 25 insertions(+), 14 deletions(-)

antirez in commit e4eb6c7:
 Cluster: implement redis-trib fix when slot is open without owners.
 1 file changed, 39 insertions(+), 9 deletions(-)

antirez in commit 04ae459:
 Cluster: implement redis-trib fix for uncovered slots.
 1 file changed, 32 insertions(+), 9 deletions(-)

antirez in commit b58796f:
 Cluster: CLUSTER BUMPEPOCH introduced to help redis-trib fix.
 1 file changed, 7 insertions(+)

antirez in commit 524be1e:
 Cluster: don't allow CLUSTER SETSLOT with slaves.
 1 file changed, 5 insertions(+)

antirez in commit f43c794:
 Scripting: handle trailing comments.
 2 files changed, 5 insertions(+), 1 deletion(-)

antirez in commit e15e518:
 Allow MIGRATE to always be called on local keys for open slots.
 1 file changed, 7 insertions(+), 6 deletions(-)

antirez in commit 36704d6:
 Fix typos & grammar in clusterBumpConfigEpochWithoutConsensus() comment.
 1 file changed, 4 insertions(+), 4 deletions(-)

antirez in commit 7c1a5ff:
 Lua debugger: support direct calls to SCRIPT DEBUG in redis-cli.
 1 file changed, 21 insertions(+)

antirez in commit a75aa4b:
 Lua debugger: fix crash printing nested or deep objects.
 1 file changed, 14 insertions(+), 4 deletions(-)

antirez in commit 1e7a8f8:
 Another typo in protected mode error message.
 1 file changed, 1 insertion(+), 1 deletion(-)

antirez in commit 08c7bba:
 Fix protected mode error message typo.
 1 file changed, 1 insertion(+), 1 deletion(-)

antirez in commit edd4d55:
 New security feature: Redis protected mode.
 5 files changed, 75 insertions(+), 3 deletions(-)

antirez in commit 00d637f:
 Cluster: don't send -ASK to MIGRATE.
 1 file changed, 5 insertions(+), 3 deletions(-)

antirez in commit 8b3aa73:
 Cluster test: do leaks detection with OSX leaks utility.
 1 file changed, 32 insertions(+)

antirez in commit 190babe:
 redis-trib: Remove duplicated key in hash initialization.
 1 file changed, 1 insertion(+), 1 deletion(-)

antirez in commit b1f84d4:
 Cluster/Sentinel test: report ability to run via valgrind.
 1 file changed, 1 insertion(+)

Salvatore Sanfilippo in commit 075ea16:
 Merge pull request #2954 from pkulchenko/debug-table-pretty-printing
Salvatore Sanfilippo in commit f054b4a:
 Merge pull request #2957 from pkulchenko/debug-userdata-pretty-printing
antirez in commit 80b7037:
 Cluster: rebalance now supports --threshold option.
 1 file changed, 24 insertions(+), 2 deletions(-)

antirez in commit 628af70:
 Cluster: redis-trib reshard / rebalance --pipeline support.
 1 file changed, 21 insertions(+), 5 deletions(-)

antirez in commit 77f849b:
 Cluster: verify slaves consistency after resharding.
 1 file changed, 23 insertions(+)

antirez in commit 9b4dd92:
 Cluster: resharding test now checks AOF consistency.
 1 file changed, 42 insertions(+)

antirez in commit bb21537:
 Fix a race that may lead to the active (slave) client to be freed.
 1 file changed, 6 insertions(+)

antirez in commit 218e522:
 Fix processCommand() comment about return value.
 1 file changed, 2 insertions(+), 2 deletions(-)

antirez in commit a1c9c05:
 Hopefully better memory test on crash.
 3 files changed, 133 insertions(+), 86 deletions(-)

antirez in commit b9aeb98:
 Suppress harmless warnings.
 3 files changed, 8 insertions(+), 4 deletions(-)

antirez in commit ac8f4a6:
 memtest.c now can be called as API in non interactive mode.
 2 files changed, 73 insertions(+), 43 deletions(-)

antirez in commit 30f057d:
 Crash report format improvements.
 1 file changed, 35 insertions(+), 24 deletions(-)

Paul Kulchenko in commit b754c8e:
 Update pretty printing in debugging to generate valid Lua code for userdata-like types.
 1 file changed, 2 insertions(+), 2 deletions(-)

Paul Kulchenko in commit 3969e9d:
 Update pretty printing in debugging to generate valid Lua code for tables.
 1 file changed, 2 insertions(+), 1 deletion(-)

Paul Kulchenko in commit 2f3f3fd:
 Update global protection error message to fix a typo.
 1 file changed, 1 insertion(+), 1 deletion(-)

antirez in commit 6db8e85:
 Log address causing SIGSEGV.
 1 file changed, 4 insertions(+)

antirez in commit 8f8c399:
 Cluster: allows abbreviated node IDs with rebalance --weight option.
 1 file changed, 19 insertions(+), 3 deletions(-)

antirez in commit 9df1ae8:
 Cluster: rebalancing option --simulate, and a fix.
 1 file changed, 12 insertions(+), 8 deletions(-)

antirez in commit cba1c29:
 Cluster: redis-trib rebalance initial implementation.
 1 file changed, 154 insertions(+), 17 deletions(-)

antirez in commit 3782902:
 Initial implementation of redis-trib info subcommand.
 1 file changed, 22 insertions(+)

Salvatore Sanfilippo in commit 9f63e75:
 Merge pull request #2943 from sunheehnus/issue2855
Sun He in commit 3a47c8c:
 lua_struct.c/getnum: throw error if overflow happen
 1 file changed, 6 insertions(+), 4 deletions(-)

antirez in commit f0b168e:
 Cluster: redis-trib: use variadic MIGRATE.
 1 file changed, 13 insertions(+), 15 deletions(-)

antirez in commit 4e252e4:
 MIGRATE: Fix key extraction for new form.
 3 files changed, 29 insertions(+), 1 deletion(-)

antirez in commit 82fd74a:
 MIGRATE: test more corner cases.
 1 file changed, 37 insertions(+)

antirez in commit ac0a731:
 MIGRATE: Fix new argument rewriting refcount handling.
 1 file changed, 2 insertions(+), 3 deletions(-)

antirez in commit d85fc1e:
 MIGRATE: fix replies processing and argument rewriting.
 2 files changed, 40 insertions(+), 15 deletions(-)

antirez in commit 29d680e:
 Test: pipelined MIGRATE tests added.
 1 file changed, 54 insertions(+)

antirez in commit 9ebf7a6:
 Pipelined multiple keys MIGRATE.
 2 files changed, 115 insertions(+), 63 deletions(-)

antirez in commit e7945cf:
 Cluster: redis-trib migrate default timeout set to 60 sec.
 1 file changed, 1 insertion(+), 1 deletion(-)

daniele in commit 3d254e0:
 redis-trib.rb: --timeout XXXXX option added to fix and reshard commands. Defaults to 15000 milliseconds
 1 file changed, 10 insertions(+), 4 deletions(-)

antirez in commit adc2fe6:
 Cluster: replica migration with delay.
 2 files changed, 39 insertions(+), 17 deletions(-)

antirez in commit 41db54a:
 Cluster: more reliable migration tests.
 1 file changed, 24 insertions(+), 43 deletions(-)

antirez in commit b55affb:
 Cluster: more reliable replicas migration test.
 1 file changed, 75 insertions(+)

antirez in commit 4159055:
 Remove debugging message left there for error.
 1 file changed, 1 deletion(-)

antirez in commit 69897f5:
 unlinkClient(): clear flags according to ops performed.
 1 file changed, 2 insertions(+)

antirez in commit e0f22df:
 Fix replicas migration by adding a new flag.
 2 files changed, 31 insertions(+), 20 deletions(-)

antirez in commit f147225:
 Fix typo UNCOMMENT -> COMMENT in example redis.conf.
 1 file changed, 1 insertion(+), 1 deletion(-)

antirez in commit acc2336:
 Centralize slave replication handshake aborting.
 1 file changed, 23 insertions(+), 22 deletions(-)

antirez in commit fceaa46:
 Test HINCRBYFLOAT rounding only in x86_64 and when valgrind is not in use.
 1 file changed, 16 insertions(+), 5 deletions(-)

antirez in commit 96628cc:
 fix sprintf and snprintf format string
 2 files changed, 3 insertions(+), 3 deletions(-)

antirez in commit e6a5117:
 Fix typo in prepareClientToWrite() comment.
 1 file changed, 1 insertion(+), 1 deletion(-)

antirez in commit c2c68c5:
 Merge branch 'unstable' of github.com:/antirez/redis into unstable
antirez in commit da82723:
 Handle wait3() errors.
 1 file changed, 7 insertions(+), 1 deletion(-)

Salvatore Sanfilippo in commit 8164418:
 Merge pull request #2899 from itamarhaber/patch-1
Itamar Haber in commit 36801f7:
 Revert Lua's `redis.LOG_<level>` to original
 1 file changed, 4 insertions(+), 4 deletions(-)

antirez in commit a0d41e5:
 Redis Cluster: hint about validity factor when slave can't failover.
 1 file changed, 3 insertions(+), 1 deletion(-)

antirez in commit 4d625bb:
 Added Tcl program to show commits graphicaly.
 2 files changed, 112 insertions(+)

antirez in commit 4b0b28b:
 Lua debugger: infinite loop detection.
 1 file changed, 35 insertions(+), 7 deletions(-)

antirez in commit 1f35f2d:
 Lua debugger: fix trace command infinite loop.
 1 file changed, 6 insertions(+), 5 deletions(-)

antirez in commit 6604e04:
 Lua debugger: redis-cli: allow restart after end of session.
 1 file changed, 3 insertions(+), 1 deletion(-)

antirez in commit 58573f1:
 Lua debugger: redis-cli can restart Lua debugging sessions.
 1 file changed, 74 insertions(+), 44 deletions(-)

antirez in commit 0cc1917:
 Lua debugger: maxlen command implemented.
 2 files changed, 55 insertions(+), 14 deletions(-)

antirez in commit c560c64:
 Lua debugger: trace command implemented.
 1 file changed, 24 insertions(+)

antirez in commit 22959e0:
 Lua debugger: redis-cli: show compile errors in LDB mode.
 1 file changed, 12 insertions(+), 3 deletions(-)

antirez in commit 70a5169:
 Lua debugger: print without args show all local vars.
 1 file changed, 34 insertions(+), 5 deletions(-)

antirez in commit fb53459:
 Lua debugger: default behavior of "list" command changed.
 1 file changed, 14 insertions(+), 4 deletions(-)

antirez in commit 6de2306:
 Lua debugger: redis-cli error when --ldb is without --eval.
 1 file changed, 7 insertions(+)

antirez in commit e57cccd:
 Lua debugger: use sds_malloc() to allocate eval cli array.
 5 files changed, 35 insertions(+), 1 deletion(-)

antirez in commit 34aadf7:
 Lua debugging: fix error message for SCRIPT DEBUG.
 1 file changed, 1 insertion(+), 1 deletion(-)

antirez in commit 3d24cd6:
 Lua debugger: reply +OK to SCRIPT DEBUG no.
 1 file changed, 1 insertion(+)

antirez in commit 333547d:
 Lua debugger: call wait3() if there are pending forked debugging sessions.
 3 files changed, 10 insertions(+), 1 deletion(-)

antirez in commit 0163643:
 Lua debugger: abort implemented.
 1 file changed, 5 insertions(+)

antirez in commit d99ce09:
 Lua debugger: ldbSendLogs() memory leak fixed.
 1 file changed, 1 insertion(+)

antirez in commit 87672ad:
 Lua debugger: better support for synchronous mode.
 2 files changed, 22 insertions(+), 3 deletions(-)

antirez in commit 7be9170:
 Lua debugger: handle forked sessions children during shutdown.
 3 files changed, 51 insertions(+), 5 deletions(-)

antirez in commit 3ab0b4d:
 Lua debugger: inform user changes are rolled back.
 1 file changed, 1 insertion(+), 1 deletion(-)

antirez in commit 56d9bb8:
 Lua debugger: fix help typo, beark -> break.
 1 file changed, 4 insertions(+), 4 deletions(-)

antirez in commit e386cd8:
 Lua debugger: clear end of session protocol.
 2 files changed, 23 insertions(+), 9 deletions(-)

antirez in commit 7492237:
 Lua debugger: redis.debug() implemented.
 2 files changed, 44 insertions(+), 15 deletions(-)

antirez in commit 23a4d70:
 Lua debugger: redis-cli, mark end of debugging session.
 1 file changed, 1 insertion(+)

antirez in commit cd112db:
 Lua debugger: removing breakpoints now works.
 1 file changed, 1 insertion(+), 1 deletion(-)

antirez in commit a076e42:
 Lua debugger: redis command implemented.
 1 file changed, 26 insertions(+), 1 deletion(-)

antirez in commit e6eb6ea:
 Lua debugger: try to eval as expression first.
 1 file changed, 13 insertions(+), 4 deletions(-)

antirez in commit 1f8fdaf:
 Lua debugger: much better Lua values pretty printer.
 2 files changed, 70 insertions(+), 17 deletions(-)

antirez in commit f480580:
 Lua debugger: print now handles ARGV and KEYS.
 1 file changed, 10 insertions(+), 2 deletions(-)

antirez in commit 36392dd:
 Lua debugger: added comment about helper functions.
 1 file changed, 3 insertions(+)

antirez in commit 3a04cb0:
 Lua debugger: redis.breakpoint() implemented.
 1 file changed, 27 insertions(+), 2 deletions(-)

antirez in commit cf4700b:
 Lua debugger: output improvements, eval command.
 2 files changed, 186 insertions(+), 54 deletions(-)

antirez in commit 1f8d614:
 Lua debugger: breakpoints.
 2 files changed, 148 insertions(+), 12 deletions(-)

antirez in commit 5c4f492:
 Lua debugger: ability to show local vars content.
 1 file changed, 85 insertions(+), 7 deletions(-)

antirez in commit 5417217:
 Lua debugger: log Redis commands. List command.
 2 files changed, 82 insertions(+), 7 deletions(-)

antirez in commit d3d1fa9:
 Lua debugger: initial REPL.
 2 files changed, 164 insertions(+), 20 deletions(-)

antirez in commit c494db8:
 Lua debugger: foundations implemented.
 5 files changed, 206 insertions(+), 21 deletions(-)

antirez in commit 7cfdccd:
 Remove "s" flag for MIGRATE in command table.
 1 file changed, 1 insertion(+), 1 deletion(-)

antirez in commit f3dd472:
 Update redis-cli help and the script to generate it.
 2 files changed, 183 insertions(+), 9 deletions(-)

antirez in commit 0cb66fa:
 Fix MIGRATE entry in command table.
 1 file changed, 1 insertion(+), 1 deletion(-)

antirez in commit 8a0258a:
 AOF: rewriting child killed by SIGUSR1 is not an error.
 1 file changed, 4 insertions(+), 2 deletions(-)

antirez in commit 54f5ecf:
 call() deserves a good top-comment.
 1 file changed, 38 insertions(+), 2 deletions(-)

Salvatore Sanfilippo in commit c950fac:
 Merge pull request #2848 from badboy/removed-printf
antirez in commit 87a12a6:
 Best effort flush of slave buffers before SHUTDOWN.
 2 files changed, 14 insertions(+), 1 deletion(-)

antirez in commit b719eed:
 Use clientHasPendingReplies() in flushSlavesOutputBuffers()
 1 file changed, 1 insertion(+), 1 deletion(-)

antirez in commit 1b5d24e:
 Scripting: fix redis.call() error reporting.
 1 file changed, 18 insertions(+), 5 deletions(-)

antirez in commit 111d24f:
 Fix error reply in subscribed Pub/Sub mode.
 1 file changed, 1 insertion(+), 1 deletion(-)

antirez in commit cd8f19e:
 Initialize all Lua scripting related things into scripting.c
 3 files changed, 33 insertions(+), 12 deletions(-)

antirez in commit 9aa1f94:
 scripting.c source code better organized into sections.
 2 files changed, 182 insertions(+), 155 deletions(-)

antirez in commit 71aa9b7:
 Fix HINCRBYFLOAT to work with long doubles.
 3 files changed, 8 insertions(+), 8 deletions(-)

antirez in commit f625570:
 Add regression test for HINCRBYFLOAT formatting change.
 1 file changed, 7 insertions(+)

Salvatore Sanfilippo in commit de776a4:
 Merge pull request #2850 from Joe8Bit/fix_typo-in-readme
antirez in commit dfe90ac:
 README new internals section improved a bit more.
 1 file changed, 9 insertions(+), 8 deletions(-)

Joe Pettersson in commit 8bc8f6f:
 Fix typo in READme sever/server
 1 file changed, 1 insertion(+), 1 deletion(-)

antirez in commit 462026c:
 README: remove garbage at end of line.
 1 file changed, 1 insertion(+), 1 deletion(-)

antirez in commit 73510f4:
 README operations -> commands, is more clear now #2.
 1 file changed, 2 insertions(+), 2 deletions(-)

antirez in commit b9fb240:
 README operations -> commands, is more clear now.
 1 file changed, 1 insertion(+), 1 deletion(-)

antirez in commit 8badf16:
 A few README typos fixed #2.
 1 file changed, 2 insertions(+), 2 deletions(-)

antirez in commit d80d051:
 A few README typos fixed.
 1 file changed, 6 insertions(+), 6 deletions(-)

antirez in commit 15d57c3:
 README now has info about Redis codebase layout.
 1 file changed, 257 insertions(+), 2 deletions(-)

Jan-Erik Rediger in commit 35afefc:
 Remove printf
 1 file changed, 1 deletion(-)

antirez in commit 30b3246:
 Test: improve PFCOUNT with multiple keys testing.
 1 file changed, 17 insertions(+), 2 deletions(-)

antirez in commit 77362b9:
 Dependencies updated.
 1 file changed, 150 insertions(+), 106 deletions(-)

antirez in commit 5b63ae3:
 Scripting: commands replication tests.
 1 file changed, 107 insertions(+), 1 deletion(-)

antirez in commit f26072e:
 More reliable DEBUG loadaof.
 1 file changed, 1 insertion(+)

antirez in commit 073a42b:
 Scripting: execute tests with command replication as well.
 1 file changed, 88 insertions(+), 79 deletions(-)

antirez in commit ff6d296:
 Scripting: ability to turn on Lua commands style replication globally.
 4 files changed, 8 insertions(+), 1 deletion(-)

antirez in commit eda06b5:
 Scripting: test Redis provided Lua functions error reporting.
 1 file changed, 9 insertions(+)

antirez in commit ebaa922:
 Scripting: fix error reporting of many Redis provided functions.
 1 file changed, 14 insertions(+), 14 deletions(-)

antirez in commit 2dabf82:
 Fix call() FORCE_REPL/AOF flags setting.
 2 files changed, 16 insertions(+), 15 deletions(-)

antirez in commit 514a234:
 Lua script selective replication fixes.
 3 files changed, 32 insertions(+), 20 deletions(-)

antirez in commit a3e8de0:
 Lua script selective replication WIP.
 2 files changed, 58 insertions(+), 3 deletions(-)

antirez in commit fc38235:
 Scripting: single commands replication mode implemented.
 3 files changed, 72 insertions(+), 8 deletions(-)

antirez in commit cdda674:
 call(): selective ability to prevent propagation on AOF / slaves.
 2 files changed, 35 insertions(+), 7 deletions(-)

antirez in commit 9dd3d2e:
 call(): don't inherit CLIENT_PREVENT_PROP + minor refactoring.
 1 file changed, 6 insertions(+), 3 deletions(-)

antirez in commit d37ef78:
 CONTRIBUTING updated.
 1 file changed, 7 insertions(+), 5 deletions(-)

antirez in commit 86f0a2e:
 CLIENT REPLY command implemented: ON, OFF and SKIP modes.
 2 files changed, 31 insertions(+), 1 deletion(-)

Salvatore Sanfilippo in commit bdcb145:
 Merge pull request #2810 from dwlt/add-copy-replace-parameters-to-redis-trib-import
antirez in commit 6ed12bd:
 Redis.conf example: make clear user must pass its path as argument.
 1 file changed, 6 insertions(+), 1 deletion(-)

antirez in commit 5f0fef5:
 Regression test for issue #2813.
 1 file changed, 53 insertions(+)

antirez in commit ed62288:
 PR 2813 fix ported to unstable.
 2 files changed, 25 insertions(+), 20 deletions(-)

David Thomson in commit 8a85ad2:
 Add back blank line
 1 file changed, 1 insertion(+)

David Thomson in commit 03d0de7:
 Update import command to optionally use copy and replace parameters
 1 file changed, 7 insertions(+), 3 deletions(-)

antirez in commit 35a0c77:
 DEBUG RESTART/CRASH-AND-RECOVER [delay] implemented.
 2 files changed, 17 insertions(+)

antirez in commit 7342746:
 Server: restartServer() API.
 2 files changed, 73 insertions(+), 4 deletions(-)

antirez in commit c372a59:
 Cluster: redis-trib fix, coverage for migrating=1 case.
 1 file changed, 12 insertions(+), 2 deletions(-)

antirez in commit 6ddcba6:
 Test: basic lazyfree unit test.
 2 files changed, 40 insertions(+)

antirez in commit 363c0f6:
 Test: fix attach_to_replication_stream to handle newlines.
 1 file changed, 5 insertions(+), 2 deletions(-)

antirez in commit f29e384:
 Fix extractLongLatOrReply() sanity check conditionals.
 1 file changed, 9 insertions(+), 9 deletions(-)

antirez in commit 3f38b51:
 Jemalloc configure script fixed to work nested.
 1 file changed, 18 deletions(-)

antirez in commit a9951b1:
 Jemalloc updated to 4.0.3.
 140 files changed, 25333 insertions(+), 15474 deletions(-)

antirez in commit e3ded02:
 Added a README into deps on dependencies and how to upgrade.
 1 file changed, 66 insertions(+)

antirez in commit ceaf58d:
 Regression test for GEORADIUS COUNT arity check.
 1 file changed, 5 insertions(+)

antirez in commit 319d180:
 Fix GEORADIUS COUNT option arity checks.
 1 file changed, 1 insertion(+), 1 deletion(-)

antirez in commit 19f6ab5:
 Lazyfree options documented in the example redis.conf.
 1 file changed, 52 insertions(+), 1 deletion(-)

antirez in commit 880c606:
 Lazyfree options implemented in the configuration.
 1 file changed, 36 insertions(+)

antirez in commit 252cfa0:
 Lazyfree: cond vars to enabled/disable it based on DEL context.
 4 files changed, 51 insertions(+), 35 deletions(-)

antirez in commit 5359696:
 Fixed a bug in the emptyDb() new implementation.
 1 file changed, 1 insertion(+), 1 deletion(-)

antirez in commit ecdbc33:
 FLUSHDB and FLUSHALL ASYNC option implemented.
 2 files changed, 39 insertions(+), 8 deletions(-)

antirez in commit 1f26a94:
 Lazyfree: pending objects count in INFO output.
 3 files changed, 10 insertions(+), 2 deletions(-)

antirez in commit c69c6c8:
 Lazyfree: ability to free whole DBs in background.
 7 files changed, 106 insertions(+), 14 deletions(-)

antirez in commit b08c36c:
 Lazyfree: keep count of objects to free.
 2 files changed, 11 insertions(+), 3 deletions(-)

antirez in commit c7b46a4:
 zmalloc.c converted to use atomicvar.h.
 1 file changed, 5 insertions(+), 33 deletions(-)

antirez in commit 7e5d690:
 Atomic vars implemented in a more general way.
 1 file changed, 94 insertions(+)

antirez in commit 7af4eeb:
 Lazyfree: incremental removed, only threaded survived.
 3 files changed, 24 insertions(+), 191 deletions(-)

antirez in commit 9253d85:
 Threaded lazyfree WIP #1.
 5 files changed, 36 insertions(+), 8 deletions(-)

antirez in commit 4d50d69:
 bio.c: new API bioWaitStepOfType().
 2 files changed, 32 insertions(+), 5 deletions(-)

antirez in commit 5b850d7:
 Test: stack_logging var should be initialized to 0.
 1 file changed, 1 insertion(+)

antirez in commit 1dab60d:
 Hash new implementation memleaks fixed.
 2 files changed, 52 insertions(+), 12 deletions(-)

antirez in commit 97ba4e3:
 Lazyfree: Hash converted to use plain SDS WIP 5.
 3 files changed, 30 insertions(+), 34 deletions(-)

antirez in commit 36be34b:
 Test: support for stack logging for OSX malloc/leaks.
 2 files changed, 7 insertions(+)

antirez in commit 974514b:
 Lazyfree: Hash converted to use plain SDS WIP 4.
 9 files changed, 76 insertions(+), 70 deletions(-)

antirez in commit 4a18352:
 Lazyfree: Hash converted to use plain SDS WIP 3.
 2 files changed, 20 insertions(+), 29 deletions(-)

antirez in commit 777396a:
 Lazyfree: Hash converted to use plain SDS WIP 2.
 4 files changed, 64 insertions(+), 37 deletions(-)

antirez in commit 1c24755:
 Lazyfree: Hash converted to use plain SDS WIP 1.
 5 files changed, 188 insertions(+), 163 deletions(-)

antirez in commit afc4b92:
 DEBUG DIGEST Set type memory leak fixed.
 1 file changed, 1 insertion(+)

antirez in commit 34e489c:
 SORT memory leak fixed.
 1 file changed, 3 insertions(+), 3 deletions(-)

antirez in commit a7c5be1:
 Lazyfree: Sorted sets convereted to plain SDS. (several commits squashed)
 10 files changed, 306 insertions(+), 266 deletions(-)

antirez in commit 86d48ef:
 Lazyfree: Convert Sets to use plains SDS (several commits squashed).
 9 files changed, 183 insertions(+), 163 deletions(-)

antirez in commit 4ff3c17:
 Lazyfree: client output buffers no longer use Redis Objects.
 2 files changed, 72 insertions(+), 97 deletions(-)

antirez in commit 0c05436:
 Lazyfree: a first implementation of non blocking DEL.
 8 files changed, 341 insertions(+), 53 deletions(-)

antirez in commit 712ea72:
 Call writeToClient() directly instead of the write handler.
 1 file changed, 1 insertion(+), 1 deletion(-)

antirez in commit 01c08b5:
 Fix processEventsWhileBlocked() to handle PENDING_WRITE clients.
 2 files changed, 7 insertions(+), 3 deletions(-)

antirez in commit 1e71538:
 Refactoring: unlinkClient() added to lower freeClient() complexity.
 3 files changed, 48 insertions(+), 51 deletions(-)

antirez in commit fdb3be9:
 Refactoring: new function to test if client has pending output.
 3 files changed, 17 insertions(+), 8 deletions(-)

antirez in commit 825f65d:
 Reverse list of clients with pending writes.
 1 file changed, 1 insertion(+), 1 deletion(-)

antirez in commit 063ecbd:
 writeToClient(): don't remove write handler if not needed.
 1 file changed, 4 insertions(+), 4 deletions(-)

antirez in commit b741a90:
 handleClientsWithPendingWrites(): detect dead clients.
 1 file changed, 17 insertions(+), 7 deletions(-)

antirez in commit 481a0db:
 Move handleClientsWithPendingWrites() in networking.c.
 3 files changed, 29 insertions(+), 28 deletions(-)

antirez in commit 1c7d87d:
 Avoid installing the client write handler when possible.
 4 files changed, 56 insertions(+), 7 deletions(-)

antirez in commit d1b6a17:
 redis-cli pipe mode: don't stay in the write loop forever.
 1 file changed, 6 insertions(+), 1 deletion(-)

antirez in commit 622366a:
 Mark version of unstable branch in an unique way.
 1 file changed, 1 insertion(+), 1 deletion(-)

Sebastian Waisbrot in commit 97a2248:
 Fix race condition in unit/introspection
 1 file changed, 4 insertions(+), 3 deletions(-)

Adam Baldwin in commit 45fa113:
 Removed dofile() from Lua
 1 file changed, 2 insertions(+)

Migrating from 3.2 to 4.0
=========================

Redis 3.2 is mostly a strict subset of 4.0, you should not have any problem
upgrading your application from 3.2 to 4.0. However this is a list of small
non-backward compatible changes introduced in the 4.0 release:

* The Redis Cluster bus protocol of 4.0 is no longer compatible with Redis 3.2.
  This was needed in order to provide Docker / NAT compatibility to Redis
  Cluster. SO in order to upgrade a Redis Cluster to 4.0, a mass restart of
  all the instances is needed.

* Writable slaves do not propagate writes to their sub-slaves, so writes to
  writable slaves remain just local.

* The RDB format changed. Redis 4.0 is still able to read 3.2 (and all the
  past versions) files, but not the other way around.

* Certain log formats and sentences are different in Redis 4.0.

* Certain INFO fields, especially related to replication, are now different.

* GEODIST, GEOPOS and GEOHASH return values changed for non existing keys:
  Previously the return value was inconsistent between non existing key
  and non existing elements. Now the return is always like if the key
  contains no elements if the key does not exist. So, for instance,
  "GEOHASH non_existing_key A B C" now returns an array of 3 NULL values
  as it should. In general this change should not break compatibility with
  the past since in the past two different forms were provided by the server
  and the new behavior is one of the two.

* The SLOWLOG command entires contain additional two fields: the client address
  and name. This is documented in the SLOWLOG command online documentation.

--------------------------------------------------------------------------------

Credits: For each release, a list of changes with the relative author is
provided. Where not specified the implementation and design is done by
Salvatore Sanfilippo. Thanks to Redis Labs for making all this possible.
Also many thanks to all the other contributors and the amazing community
we have.

Commit messages may contain additional credits.

Enjoy,
Salvatore
